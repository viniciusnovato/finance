{"version":3,"names":["cov_2awuxw8ocn","actualCoverage","express","s","require","authMiddleware","requireRole","validateLogin","validateUser","validateChangePassword","AuthController","asyncHandler","router","Router","post","login","logout","register","get","getProfile","put","updateProfile","changePassword","forgotPassword","resetPassword","verifyToken","refreshToken","getUsers","getUser","updateUser","patch","updateUserStatus","delete","deleteUser","module","exports"],"sources":["authRoutes.js"],"sourcesContent":["const express = require('express');\nconst { authMiddleware, requireRole } = require('../middleware/authMiddleware');\nconst { validateLogin, validateUser, validateChangePassword } = require('../middleware/validationMiddleware');\nconst AuthController = require('../controllers/AuthController');\nconst asyncHandler = require('express-async-handler');\n\nconst router = express.Router();\n\n// @desc    Login de usuário\n// @route   POST /api/auth/login\n// @access  Public\nrouter.post('/login', validateLogin, AuthController.login);\n\n// @desc    Logout de usuário\n// @route   POST /api/auth/logout\n// @access  Private\nrouter.post('/logout', authMiddleware, AuthController.logout);\n\n// @desc    Registrar novo usuário\n// @route   POST /api/auth/register\n// @access  Private (Admin only)\nrouter.post('/register', authMiddleware, requireRole(['admin']), validateUser, AuthController.register);\n\n// @desc    Obter perfil do usuário atual\n// @route   GET /api/auth/profile\n// @access  Private\nrouter.get('/profile', authMiddleware, AuthController.getProfile);\n\n// @desc    Atualizar perfil do usuário\n// @route   PUT /api/auth/profile\n// @access  Private\nrouter.put('/profile', authMiddleware, AuthController.updateProfile);\n\n// @desc    Alterar senha\n// @route   PUT /api/auth/change-password\n// @access  Private\nrouter.put('/change-password', authMiddleware, validateChangePassword, AuthController.changePassword);\n\n// @desc    Solicitar reset de senha\n// @route   POST /api/auth/forgot-password\n// @access  Public\nrouter.post('/forgot-password', AuthController.forgotPassword);\n\n// @desc    Reset de senha\n// @route   POST /api/auth/reset-password\n// @access  Public\nrouter.post('/reset-password', AuthController.resetPassword);\n\n// @desc    Verificar token\n// @route   GET /api/auth/verify\n// @access  Private\nrouter.get('/verify', authMiddleware, AuthController.verifyToken);\n\n// @desc    Refresh token\n// @route   POST /api/auth/refresh\n// @access  Public\nrouter.post('/refresh', AuthController.refreshToken);\n\n// Rotas de gerenciamento de usuários (Admin only)\n// @desc    Listar usuários\n// @route   GET /api/auth/users\n// @access  Private (Admin only)\nrouter.get('/users', authMiddleware, requireRole(['admin']), AuthController.getUsers);\n\n// @desc    Obter usuário por ID\n// @route   GET /api/auth/users/:id\n// @access  Private (Admin only)\nrouter.get('/users/:id', authMiddleware, requireRole(['admin']), AuthController.getUser);\n\n// @desc    Atualizar usuário\n// @route   PUT /api/auth/users/:id\n// @access  Private (Admin only)\nrouter.put('/users/:id', authMiddleware, requireRole(['admin']), validateUser, AuthController.updateUser);\n\n// @desc    Ativar/Desativar usuário\n// @route   PATCH /api/auth/users/:id/status\n// @access  Private (Admin only)\nrouter.patch('/users/:id/status', authMiddleware, requireRole(['admin']), AuthController.updateUserStatus);\n\n// @desc    Deletar usuário\n// @route   DELETE /api/auth/users/:id\n// @access  Private (Admin only)\nrouter.delete('/users/:id', authMiddleware, requireRole(['admin']), AuthController.deleteUser);\n\nmodule.exports = router;"],"mappings":"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","ignoreList":[]}