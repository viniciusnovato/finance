8c5f0e835024bd61b0e840518b2a6ee1
"use strict";

// Mock do ResponseHelper
_getJestObj().mock('../../utils/responseHelper');

// Mock do objeto response do Express
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Testes unitários para ErrorHandler
 * Testa o tratamento centralizado de erros
 */

const {
  ErrorHandler
} = require('../../utils/errorHandler');
const {
  ResponseHelper
} = require('../../utils/responseHelper');
const createMockResponse = () => ({
  status: jest.fn().mockReturnThis(),
  json: jest.fn().mockReturnThis(),
  headersSent: false
});

// Mock do objeto request do Express
const createMockRequest = () => ({
  method: 'GET',
  url: '/api/test',
  ip: '127.0.0.1',
  headers: {
    'user-agent': 'test-agent'
  }
});
describe('ErrorHandler', () => {
  let mockRes;
  let mockReq;
  let mockNext;
  let consoleErrorSpy;
  beforeEach(() => {
    mockRes = createMockResponse();
    mockReq = createMockRequest();
    mockNext = jest.fn();

    // Mock console.error para evitar logs durante os testes
    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(() => {});

    // Limpar mocks
    jest.clearAllMocks();
  });
  afterEach(() => {
    consoleErrorSpy.mockRestore();
  });
  describe('handleValidationError', () => {
    test('should handle validation error with details', () => {
      const error = {
        name: 'ValidationError',
        message: 'Dados inválidos',
        details: [{
          field: 'email',
          message: 'Email inválido'
        }, {
          field: 'phone',
          message: 'Telefone obrigatório'
        }]
      };
      ErrorHandler.handleValidationError(mockRes, error.details, error.message);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, error.details);
    });
    test('should handle validation error without details', () => {
      const error = {
        name: 'ValidationError',
        message: 'Erro de validação'
      };
      ErrorHandler.handleValidationError(mockRes, [], error.message);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, []);
    });
  });
  describe('handleDatabaseError', () => {
    test('should handle unique constraint violation', () => {
      const error = {
        code: '23505',
        // PostgreSQL unique violation
        message: 'duplicate key value violates unique constraint',
        constraint: 'clients_email_unique'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendConflict).toHaveBeenCalledWith(mockRes, 'Registro já existe');
    });
    test('should handle foreign key constraint violation', () => {
      const error = {
        code: '23503',
        // PostgreSQL foreign key violation
        message: 'violates foreign key constraint'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, ['Referência inválida']);
    });
    test('should handle not null constraint violation', () => {
      const error = {
        code: '23502',
        // PostgreSQL not null violation
        message: 'null value in column violates not-null constraint'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
    test('should handle connection timeout', () => {
      const error = {
        code: 'ETIMEDOUT',
        message: 'Connection timeout'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
    test('should handle generic database error', () => {
      const error = {
        message: 'Generic database error'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
  });
  describe('handleAuthenticationError', () => {
    test('should handle authentication error', () => {
      const error = {
        name: 'AuthenticationError',
        message: 'Token inválido'
      };
      ErrorHandler.handleAuthenticationError(mockRes, error.message);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalledWith(mockRes, 'Token inválido');
    });
    test('should use default message for authentication error', () => {
      const error = {
        name: 'AuthenticationError'
      };
      ErrorHandler.handleAuthenticationError(mockRes);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalledWith(mockRes, 'Credenciais inválidas');
    });
  });
  describe('handleAuthorizationError', () => {
    test('should handle authorization error', () => {
      const error = {
        name: 'AuthorizationError',
        message: 'Acesso negado'
      };
      ErrorHandler.handleAuthorizationError(mockRes, error.message);
      expect(ResponseHelper.sendForbidden).toHaveBeenCalledWith(mockRes, 'Acesso negado');
    });
    test('should use default message for authorization error', () => {
      const error = {
        name: 'AuthorizationError'
      };
      ErrorHandler.handleAuthorizationError(mockRes);
      expect(ResponseHelper.sendForbidden).toHaveBeenCalledWith(mockRes, 'Acesso negado');
    });
  });
  describe('handleNotFoundError', () => {
    test('should handle not found error', () => {
      const error = {
        name: 'NotFoundError',
        message: 'Cliente não encontrado'
      };
      ErrorHandler.handleNotFoundError(mockRes, error.message);
      expect(ResponseHelper.sendNotFound).toHaveBeenCalledWith(mockRes, 'Cliente não encontrado');
    });
    test('should use default message for not found error', () => {
      const error = {
        name: 'NotFoundError'
      };
      ErrorHandler.handleNotFoundError(mockRes);
      expect(ResponseHelper.sendNotFound).toHaveBeenCalledWith(mockRes, 'Recurso');
    });
  });
  describe('handleNetworkError', () => {
    test('should handle connection refused error', () => {
      const error = {
        code: 'ECONNREFUSED',
        message: 'Connection refused'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.serviceUnavailable).toHaveBeenCalledWith(mockRes, 'serviço externo indisponível');
    });
    test('should handle DNS lookup error', () => {
      const error = {
        code: 'ENOTFOUND',
        message: 'DNS lookup failed'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.badGateway).toHaveBeenCalledWith(mockRes, 'Erro de comunicação com serviço externo');
    });
    test('should handle generic network error', () => {
      const error = {
        message: 'Network error'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.badGateway).toHaveBeenCalledWith(mockRes, 'Erro de comunicação com serviço externo');
    });
  });
  describe('handleGenericError', () => {
    test('should handle validation error in generic handler', () => {
      const error = {
        name: 'ValidationError',
        message: 'Dados inválidos'
      };
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalled();
    });
    test('should handle cast error in generic handler', () => {
      const error = {
        name: 'CastError',
        message: 'Formato inválido'
      };
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, ['Formato de dados inválido']);
    });
    test('should handle generic error', () => {
      const error = new Error('Erro genérico');
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalled();
    });
    test('should log error details', () => {
      const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
      const error = new Error('Test error');
      ErrorHandler.handleGenericError(mockRes, error);
      expect(consoleSpy).toHaveBeenCalled();
      consoleSpy.mockRestore();
    });
  });
  describe('expressErrorHandler', () => {
    test('should skip if headers already sent', () => {
      mockRes.headersSent = true;
      const error = new Error('Test error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(error);
      expect(ResponseHelper.sendInternalError).not.toHaveBeenCalled();
    });
    test('should handle validation error in Express middleware', () => {
      const error = {
        name: 'ValidationError',
        message: 'Validation failed'
      };
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalled();
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should handle authentication error in Express middleware', () => {
      const error = {
        name: 'JsonWebTokenError',
        message: 'Invalid token'
      };
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalled();
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should handle generic error in Express middleware', () => {
      const error = new Error('Generic error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should log request details with error', () => {
      const error = new Error('Test error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(consoleErrorSpy).toHaveBeenCalledWith('Express Error Handler:', expect.objectContaining({
        error: 'Test error',
        url: '/api/test',
        method: 'GET'
      }));
    });
  });
  describe('createError', () => {
    test('should create error with message and status code', () => {
      const error = ErrorHandler.createError('Test message', 400, 'TEST_ERROR');
      expect(error.message).toBe('Test message');
      expect(error.statusCode).toBe(400);
      expect(error.code).toBe('TEST_ERROR');
      expect(error).toBeInstanceOf(Error);
    });
    test('should create error with default values', () => {
      const error = ErrorHandler.createError('Test message');
      expect(error.message).toBe('Test message');
      expect(error.statusCode).toBe(500);
      expect(error).toBeInstanceOf(Error);
    });
  });
  describe('isOperationalError', () => {
    test('should identify operational errors', () => {
      const operationalError = new Error('Validation failed');
      operationalError.name = 'ValidationError';
      const result = ErrorHandler.isOperationalError(operationalError);
      expect(result).toBe(true);

      // Test with status code
      const statusError = new Error('Bad request');
      statusError.statusCode = 400;
      const statusResult = ErrorHandler.isOperationalError(statusError);
      expect(statusResult).toBe(true);
    });
    test('should identify non-operational errors', () => {
      const nonOperationalErrors = [new Error('Generic error'), {
        name: 'SyntaxError'
      }, {
        name: 'ReferenceError'
      }, {
        message: 'Unknown error'
      }];
      nonOperationalErrors.forEach(error => {
        expect(ErrorHandler.isOperationalError(error)).toBe(false);
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJqZXN0IiwicmVxdWlyZSIsIkVycm9ySGFuZGxlciIsIlJlc3BvbnNlSGVscGVyIiwiY3JlYXRlTW9ja1Jlc3BvbnNlIiwic3RhdHVzIiwiZm4iLCJtb2NrUmV0dXJuVGhpcyIsImpzb24iLCJoZWFkZXJzU2VudCIsImNyZWF0ZU1vY2tSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwiaXAiLCJoZWFkZXJzIiwiZGVzY3JpYmUiLCJtb2NrUmVzIiwibW9ja1JlcSIsIm1vY2tOZXh0IiwiY29uc29sZUVycm9yU3B5IiwiYmVmb3JlRWFjaCIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImNsZWFyQWxsTW9ja3MiLCJhZnRlckVhY2giLCJtb2NrUmVzdG9yZSIsInRlc3QiLCJlcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiZGV0YWlscyIsImZpZWxkIiwiaGFuZGxlVmFsaWRhdGlvbkVycm9yIiwiZXhwZWN0Iiwic2VuZFZhbGlkYXRpb25FcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiY29kZSIsImNvbnN0cmFpbnQiLCJoYW5kbGVEYXRhYmFzZUVycm9yIiwic2VuZENvbmZsaWN0Iiwic2VuZEludGVybmFsRXJyb3IiLCJoYW5kbGVBdXRoZW50aWNhdGlvbkVycm9yIiwic2VuZFVuYXV0aG9yaXplZCIsImhhbmRsZUF1dGhvcml6YXRpb25FcnJvciIsInNlbmRGb3JiaWRkZW4iLCJoYW5kbGVOb3RGb3VuZEVycm9yIiwic2VuZE5vdEZvdW5kIiwiaGFuZGxlTmV0d29ya0Vycm9yIiwic2VydmljZVVuYXZhaWxhYmxlIiwiYmFkR2F0ZXdheSIsImhhbmRsZUdlbmVyaWNFcnJvciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJFcnJvciIsImNvbnNvbGVTcHkiLCJleHByZXNzRXJyb3JIYW5kbGVyIiwibm90Iiwib2JqZWN0Q29udGFpbmluZyIsImNyZWF0ZUVycm9yIiwidG9CZSIsInN0YXR1c0NvZGUiLCJ0b0JlSW5zdGFuY2VPZiIsIm9wZXJhdGlvbmFsRXJyb3IiLCJyZXN1bHQiLCJpc09wZXJhdGlvbmFsRXJyb3IiLCJzdGF0dXNFcnJvciIsInN0YXR1c1Jlc3VsdCIsIm5vbk9wZXJhdGlvbmFsRXJyb3JzIiwiZm9yRWFjaCJdLCJzb3VyY2VzIjpbImVycm9ySGFuZGxlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVzdGVzIHVuaXTDoXJpb3MgcGFyYSBFcnJvckhhbmRsZXJcbiAqIFRlc3RhIG8gdHJhdGFtZW50byBjZW50cmFsaXphZG8gZGUgZXJyb3NcbiAqL1xuXG5jb25zdCB7IEVycm9ySGFuZGxlciB9ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZXJyb3JIYW5kbGVyJyk7XG5jb25zdCB7IFJlc3BvbnNlSGVscGVyIH0gPSByZXF1aXJlKCcuLi8uLi91dGlscy9yZXNwb25zZUhlbHBlcicpO1xuXG4vLyBNb2NrIGRvIFJlc3BvbnNlSGVscGVyXG5qZXN0Lm1vY2soJy4uLy4uL3V0aWxzL3Jlc3BvbnNlSGVscGVyJyk7XG5cbi8vIE1vY2sgZG8gb2JqZXRvIHJlc3BvbnNlIGRvIEV4cHJlc3NcbmNvbnN0IGNyZWF0ZU1vY2tSZXNwb25zZSA9ICgpID0+ICh7XG4gIHN0YXR1czogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIGpzb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICBoZWFkZXJzU2VudDogZmFsc2Vcbn0pO1xuXG4vLyBNb2NrIGRvIG9iamV0byByZXF1ZXN0IGRvIEV4cHJlc3NcbmNvbnN0IGNyZWF0ZU1vY2tSZXF1ZXN0ID0gKCkgPT4gKHtcbiAgbWV0aG9kOiAnR0VUJyxcbiAgdXJsOiAnL2FwaS90ZXN0JyxcbiAgaXA6ICcxMjcuMC4wLjEnLFxuICBoZWFkZXJzOiB7ICd1c2VyLWFnZW50JzogJ3Rlc3QtYWdlbnQnIH1cbn0pO1xuXG5kZXNjcmliZSgnRXJyb3JIYW5kbGVyJywgKCkgPT4ge1xuICBsZXQgbW9ja1JlcztcbiAgbGV0IG1vY2tSZXE7XG4gIGxldCBtb2NrTmV4dDtcbiAgbGV0IGNvbnNvbGVFcnJvclNweTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrUmVzID0gY3JlYXRlTW9ja1Jlc3BvbnNlKCk7XG4gICAgbW9ja1JlcSA9IGNyZWF0ZU1vY2tSZXF1ZXN0KCk7XG4gICAgbW9ja05leHQgPSBqZXN0LmZuKCk7XG4gICAgXG4gICAgLy8gTW9jayBjb25zb2xlLmVycm9yIHBhcmEgZXZpdGFyIGxvZ3MgZHVyYW50ZSBvcyB0ZXN0ZXNcbiAgICBjb25zb2xlRXJyb3JTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7fSk7XG4gICAgXG4gICAgLy8gTGltcGFyIG1vY2tzXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY29uc29sZUVycm9yU3B5Lm1vY2tSZXN0b3JlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdoYW5kbGVWYWxpZGF0aW9uRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGVycm9yIHdpdGggZGV0YWlscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnVmFsaWRhdGlvbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0RhZG9zIGludsOhbGlkb3MnLFxuICAgICAgICBkZXRhaWxzOiBbXG4gICAgICAgICAgeyBmaWVsZDogJ2VtYWlsJywgbWVzc2FnZTogJ0VtYWlsIGludsOhbGlkbycgfSxcbiAgICAgICAgICB7IGZpZWxkOiAncGhvbmUnLCBtZXNzYWdlOiAnVGVsZWZvbmUgb2JyaWdhdMOzcmlvJyB9XG4gICAgICAgIF1cbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVWYWxpZGF0aW9uRXJyb3IobW9ja1JlcywgZXJyb3IuZGV0YWlscywgZXJyb3IubWVzc2FnZSk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgZXJyb3IuZGV0YWlsc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmFsaWRhdGlvbiBlcnJvciB3aXRob3V0IGRldGFpbHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ1ZhbGlkYXRpb25FcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvIGRlIHZhbGlkYcOnw6NvJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZVZhbGlkYXRpb25FcnJvcihtb2NrUmVzLCBbXSwgZXJyb3IubWVzc2FnZSk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgW11cbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdoYW5kbGVEYXRhYmFzZUVycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdW5pcXVlIGNvbnN0cmFpbnQgdmlvbGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIGNvZGU6ICcyMzUwNScsIC8vIFBvc3RncmVTUUwgdW5pcXVlIHZpb2xhdGlvblxuICAgICAgICBtZXNzYWdlOiAnZHVwbGljYXRlIGtleSB2YWx1ZSB2aW9sYXRlcyB1bmlxdWUgY29uc3RyYWludCcsXG4gICAgICAgIGNvbnN0cmFpbnQ6ICdjbGllbnRzX2VtYWlsX3VuaXF1ZSdcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVEYXRhYmFzZUVycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRDb25mbGljdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdSZWdpc3RybyBqw6EgZXhpc3RlJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgY29kZTogJzIzNTAzJywgLy8gUG9zdGdyZVNRTCBmb3JlaWduIGtleSB2aW9sYXRpb25cbiAgICAgICAgbWVzc2FnZTogJ3Zpb2xhdGVzIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlRGF0YWJhc2VFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgWydSZWZlcsOqbmNpYSBpbnbDoWxpZGEnXVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbm90IG51bGwgY29uc3RyYWludCB2aW9sYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgY29kZTogJzIzNTAyJywgLy8gUG9zdGdyZVNRTCBub3QgbnVsbCB2aW9sYXRpb25cbiAgICAgICAgbWVzc2FnZTogJ251bGwgdmFsdWUgaW4gY29sdW1uIHZpb2xhdGVzIG5vdC1udWxsIGNvbnN0cmFpbnQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlRGF0YWJhc2VFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kSW50ZXJuYWxFcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25uZWN0aW9uIHRpbWVvdXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgY29kZTogJ0VUSU1FRE9VVCcsXG4gICAgICAgIG1lc3NhZ2U6ICdDb25uZWN0aW9uIHRpbWVvdXQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlRGF0YWJhc2VFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kSW50ZXJuYWxFcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmljIGRhdGFiYXNlIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG1lc3NhZ2U6ICdHZW5lcmljIGRhdGFiYXNlIGVycm9yJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZURhdGFiYXNlRXJyb3IobW9ja1JlcywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZEludGVybmFsRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZUF1dGhlbnRpY2F0aW9uRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBhdXRoZW50aWNhdGlvbiBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnQXV0aGVudGljYXRpb25FcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdUb2tlbiBpbnbDoWxpZG8nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlQXV0aGVudGljYXRpb25FcnJvcihtb2NrUmVzLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRVbmF1dGhvcml6ZWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnVG9rZW4gaW52w6FsaWRvJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1c2UgZGVmYXVsdCBtZXNzYWdlIGZvciBhdXRoZW50aWNhdGlvbiBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnQXV0aGVudGljYXRpb25FcnJvcidcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVBdXRoZW50aWNhdGlvbkVycm9yKG1vY2tSZXMpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZFVuYXV0aG9yaXplZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdDcmVkZW5jaWFpcyBpbnbDoWxpZGFzJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZUF1dGhvcml6YXRpb25FcnJvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGF1dGhvcml6YXRpb24gZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ0F1dGhvcml6YXRpb25FcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdBY2Vzc28gbmVnYWRvJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUF1dGhvcml6YXRpb25FcnJvcihtb2NrUmVzLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRGb3JiaWRkZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnQWNlc3NvIG5lZ2FkbydcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXNlIGRlZmF1bHQgbWVzc2FnZSBmb3IgYXV0aG9yaXphdGlvbiBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnQXV0aG9yaXphdGlvbkVycm9yJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUF1dGhvcml6YXRpb25FcnJvcihtb2NrUmVzKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRGb3JiaWRkZW4pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnQWNlc3NvIG5lZ2FkbydcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdoYW5kbGVOb3RGb3VuZEVycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgbm90IGZvdW5kIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdOb3RGb3VuZEVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0NsaWVudGUgbsOjbyBlbmNvbnRyYWRvJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZU5vdEZvdW5kRXJyb3IobW9ja1JlcywgZXJyb3IubWVzc2FnZSk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kTm90Rm91bmQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnQ2xpZW50ZSBuw6NvIGVuY29udHJhZG8nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHVzZSBkZWZhdWx0IG1lc3NhZ2UgZm9yIG5vdCBmb3VuZCBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnTm90Rm91bmRFcnJvcidcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVOb3RGb3VuZEVycm9yKG1vY2tSZXMpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZE5vdEZvdW5kKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ1JlY3Vyc28nXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaGFuZGxlTmV0d29ya0Vycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY29ubmVjdGlvbiByZWZ1c2VkIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIGNvZGU6ICdFQ09OTlJFRlVTRUQnLFxuICAgICAgICBtZXNzYWdlOiAnQ29ubmVjdGlvbiByZWZ1c2VkJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZU5ldHdvcmtFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZXJ2aWNlVW5hdmFpbGFibGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnc2VydmnDp28gZXh0ZXJubyBpbmRpc3BvbsOtdmVsJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgRE5TIGxvb2t1cCBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBjb2RlOiAnRU5PVEZPVU5EJyxcbiAgICAgICAgbWVzc2FnZTogJ0ROUyBsb29rdXAgZmFpbGVkJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZU5ldHdvcmtFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5iYWRHYXRld2F5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ0Vycm8gZGUgY29tdW5pY2HDp8OjbyBjb20gc2VydmnDp28gZXh0ZXJubydcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGdlbmVyaWMgbmV0d29yayBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBtZXNzYWdlOiAnTmV0d29yayBlcnJvcidcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVOZXR3b3JrRXJyb3IobW9ja1JlcywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuYmFkR2F0ZXdheSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdFcnJvIGRlIGNvbXVuaWNhw6fDo28gY29tIHNlcnZpw6dvIGV4dGVybm8nXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaGFuZGxlR2VuZXJpY0Vycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmFsaWRhdGlvbiBlcnJvciBpbiBnZW5lcmljIGhhbmRsZXInLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ1ZhbGlkYXRpb25FcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdEYWRvcyBpbnbDoWxpZG9zJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUdlbmVyaWNFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNhc3QgZXJyb3IgaW4gZ2VuZXJpYyBoYW5kbGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdDYXN0RXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnRm9ybWF0byBpbnbDoWxpZG8nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlR2VuZXJpY0Vycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRWYWxpZGF0aW9uRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICBbJ0Zvcm1hdG8gZGUgZGFkb3MgaW52w6FsaWRvJ11cbiAgICAgICk7XG4gICAgfSk7XG5cblxuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmljIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0Vycm8gZ2Vuw6lyaWNvJyk7XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVHZW5lcmljRXJyb3IobW9ja1JlcywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZEludGVybmFsRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBsb2cgZXJyb3IgZGV0YWlscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnNvbGVTcHkgPSBqZXN0LnNweU9uKGNvbnNvbGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUdlbmVyaWNFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChjb25zb2xlU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBjb25zb2xlU3B5Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdleHByZXNzRXJyb3JIYW5kbGVyJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBza2lwIGlmIGhlYWRlcnMgYWxyZWFkeSBzZW50JywgKCkgPT4ge1xuICAgICAgbW9ja1Jlcy5oZWFkZXJzU2VudCA9IHRydWU7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignVGVzdCBlcnJvcicpO1xuXG4gICAgICBFcnJvckhhbmRsZXIuZXhwcmVzc0Vycm9ySGFuZGxlcihlcnJvciwgbW9ja1JlcSwgbW9ja1JlcywgbW9ja05leHQpO1xuXG4gICAgICBleHBlY3QobW9ja05leHQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGVycm9yKTtcbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kSW50ZXJuYWxFcnJvcikubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgdmFsaWRhdGlvbiBlcnJvciBpbiBFeHByZXNzIG1pZGRsZXdhcmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ1ZhbGlkYXRpb25FcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCdcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5leHByZXNzRXJyb3JIYW5kbGVyKGVycm9yLCBtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja05leHQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGF1dGhlbnRpY2F0aW9uIGVycm9yIGluIEV4cHJlc3MgbWlkZGxld2FyZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnSnNvbldlYlRva2VuRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnSW52YWxpZCB0b2tlbidcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5leHByZXNzRXJyb3JIYW5kbGVyKGVycm9yLCBtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVW5hdXRob3JpemVkKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja05leHQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGdlbmVyaWMgZXJyb3IgaW4gRXhwcmVzcyBtaWRkbGV3YXJlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ0dlbmVyaWMgZXJyb3InKTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmV4cHJlc3NFcnJvckhhbmRsZXIoZXJyb3IsIG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRJbnRlcm5hbEVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcidcbiAgICAgICk7XG4gICAgICBleHBlY3QobW9ja05leHQpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbG9nIHJlcXVlc3QgZGV0YWlscyB3aXRoIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmV4cHJlc3NFcnJvckhhbmRsZXIoZXJyb3IsIG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcblxuICAgICAgZXhwZWN0KGNvbnNvbGVFcnJvclNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdFeHByZXNzIEVycm9yIEhhbmRsZXI6JyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIGVycm9yOiAnVGVzdCBlcnJvcicsXG4gICAgICAgICAgdXJsOiAnL2FwaS90ZXN0JyxcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JlYXRlRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNyZWF0ZSBlcnJvciB3aXRoIG1lc3NhZ2UgYW5kIHN0YXR1cyBjb2RlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBFcnJvckhhbmRsZXIuY3JlYXRlRXJyb3IoJ1Rlc3QgbWVzc2FnZScsIDQwMCwgJ1RFU1RfRVJST1InKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQmUoJ1Rlc3QgbWVzc2FnZScpO1xuICAgICAgZXhwZWN0KGVycm9yLnN0YXR1c0NvZGUpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChlcnJvci5jb2RlKS50b0JlKCdURVNUX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVJbnN0YW5jZU9mKEVycm9yKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBjcmVhdGUgZXJyb3Igd2l0aCBkZWZhdWx0IHZhbHVlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKCdUZXN0IG1lc3NhZ2UnKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQmUoJ1Rlc3QgbWVzc2FnZScpO1xuICAgICAgZXhwZWN0KGVycm9yLnN0YXR1c0NvZGUpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChlcnJvcikudG9CZUluc3RhbmNlT2YoRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaXNPcGVyYXRpb25hbEVycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBpZGVudGlmeSBvcGVyYXRpb25hbCBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcGVyYXRpb25hbEVycm9yID0gbmV3IEVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCcpO1xuICAgICAgb3BlcmF0aW9uYWxFcnJvci5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IEVycm9ySGFuZGxlci5pc09wZXJhdGlvbmFsRXJyb3Iob3BlcmF0aW9uYWxFcnJvcik7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBUZXN0IHdpdGggc3RhdHVzIGNvZGVcbiAgICAgIGNvbnN0IHN0YXR1c0Vycm9yID0gbmV3IEVycm9yKCdCYWQgcmVxdWVzdCcpO1xuICAgICAgc3RhdHVzRXJyb3Iuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhdHVzUmVzdWx0ID0gRXJyb3JIYW5kbGVyLmlzT3BlcmF0aW9uYWxFcnJvcihzdGF0dXNFcnJvcik7XG4gICAgICBleHBlY3Qoc3RhdHVzUmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGlkZW50aWZ5IG5vbi1vcGVyYXRpb25hbCBlcnJvcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBub25PcGVyYXRpb25hbEVycm9ycyA9IFtcbiAgICAgICAgbmV3IEVycm9yKCdHZW5lcmljIGVycm9yJyksXG4gICAgICAgIHsgbmFtZTogJ1N5bnRheEVycm9yJyB9LFxuICAgICAgICB7IG5hbWU6ICdSZWZlcmVuY2VFcnJvcicgfSxcbiAgICAgICAgeyBtZXNzYWdlOiAnVW5rbm93biBlcnJvcicgfVxuICAgICAgXTtcblxuICAgICAgbm9uT3BlcmF0aW9uYWxFcnJvcnMuZm9yRWFjaChlcnJvciA9PiB7XG4gICAgICAgIGV4cGVjdChFcnJvckhhbmRsZXIuaXNPcGVyYXRpb25hbEVycm9yKGVycm9yKSkudG9CZShmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBUUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsNEJBQTRCLENBQUM7O0FBRXZDO0FBQUEsU0FBQUQsWUFBQTtFQUFBO0lBQUFFO0VBQUEsSUFBQUMsT0FBQTtFQUFBSCxXQUFBLEdBQUFBLENBQUEsS0FBQUUsSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQVhBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07RUFBRUU7QUFBYSxDQUFDLEdBQUdELE9BQU8sQ0FBQywwQkFBMEIsQ0FBQztBQUM1RCxNQUFNO0VBQUVFO0FBQWUsQ0FBQyxHQUFHRixPQUFPLENBQUMsNEJBQTRCLENBQUM7QUFNaEUsTUFBTUcsa0JBQWtCLEdBQUdBLENBQUEsTUFBTztFQUNoQ0MsTUFBTSxFQUFFTCxJQUFJLENBQUNNLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO0VBQ2xDQyxJQUFJLEVBQUVSLElBQUksQ0FBQ00sRUFBRSxDQUFDLENBQUMsQ0FBQ0MsY0FBYyxDQUFDLENBQUM7RUFDaENFLFdBQVcsRUFBRTtBQUNmLENBQUMsQ0FBQzs7QUFFRjtBQUNBLE1BQU1DLGlCQUFpQixHQUFHQSxDQUFBLE1BQU87RUFDL0JDLE1BQU0sRUFBRSxLQUFLO0VBQ2JDLEdBQUcsRUFBRSxXQUFXO0VBQ2hCQyxFQUFFLEVBQUUsV0FBVztFQUNmQyxPQUFPLEVBQUU7SUFBRSxZQUFZLEVBQUU7RUFBYTtBQUN4QyxDQUFDLENBQUM7QUFFRkMsUUFBUSxDQUFDLGNBQWMsRUFBRSxNQUFNO0VBQzdCLElBQUlDLE9BQU87RUFDWCxJQUFJQyxPQUFPO0VBQ1gsSUFBSUMsUUFBUTtFQUNaLElBQUlDLGVBQWU7RUFFbkJDLFVBQVUsQ0FBQyxNQUFNO0lBQ2ZKLE9BQU8sR0FBR1osa0JBQWtCLENBQUMsQ0FBQztJQUM5QmEsT0FBTyxHQUFHUCxpQkFBaUIsQ0FBQyxDQUFDO0lBQzdCUSxRQUFRLEdBQUdsQixJQUFJLENBQUNNLEVBQUUsQ0FBQyxDQUFDOztJQUVwQjtJQUNBYSxlQUFlLEdBQUduQixJQUFJLENBQUNxQixLQUFLLENBQUNDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQ0Msa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs7SUFFM0U7SUFDQXZCLElBQUksQ0FBQ3dCLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGQyxTQUFTLENBQUMsTUFBTTtJQUNkTixlQUFlLENBQUNPLFdBQVcsQ0FBQyxDQUFDO0VBQy9CLENBQUMsQ0FBQztFQUVGWCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsTUFBTTtJQUN0Q1ksSUFBSSxDQUFDLDZDQUE2QyxFQUFFLE1BQU07TUFDeEQsTUFBTUMsS0FBSyxHQUFHO1FBQ1pDLElBQUksRUFBRSxpQkFBaUI7UUFDdkJDLE9BQU8sRUFBRSxpQkFBaUI7UUFDMUJDLE9BQU8sRUFBRSxDQUNQO1VBQUVDLEtBQUssRUFBRSxPQUFPO1VBQUVGLE9BQU8sRUFBRTtRQUFpQixDQUFDLEVBQzdDO1VBQUVFLEtBQUssRUFBRSxPQUFPO1VBQUVGLE9BQU8sRUFBRTtRQUF1QixDQUFDO01BRXZELENBQUM7TUFFRDVCLFlBQVksQ0FBQytCLHFCQUFxQixDQUFDakIsT0FBTyxFQUFFWSxLQUFLLENBQUNHLE9BQU8sRUFBRUgsS0FBSyxDQUFDRSxPQUFPLENBQUM7TUFFekVJLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ2dDLG1CQUFtQixDQUFDLENBQUNDLG9CQUFvQixDQUM3RHBCLE9BQU8sRUFDUFksS0FBSyxDQUFDRyxPQUNSLENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRkosSUFBSSxDQUFDLGdEQUFnRCxFQUFFLE1BQU07TUFDM0QsTUFBTUMsS0FBSyxHQUFHO1FBQ1pDLElBQUksRUFBRSxpQkFBaUI7UUFDdkJDLE9BQU8sRUFBRTtNQUNYLENBQUM7TUFFRDVCLFlBQVksQ0FBQytCLHFCQUFxQixDQUFDakIsT0FBTyxFQUFFLEVBQUUsRUFBRVksS0FBSyxDQUFDRSxPQUFPLENBQUM7TUFFOURJLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ2dDLG1CQUFtQixDQUFDLENBQUNDLG9CQUFvQixDQUM3RHBCLE9BQU8sRUFDUCxFQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRkQsUUFBUSxDQUFDLHFCQUFxQixFQUFFLE1BQU07SUFDcENZLElBQUksQ0FBQywyQ0FBMkMsRUFBRSxNQUFNO01BQ3RELE1BQU1DLEtBQUssR0FBRztRQUNaUyxJQUFJLEVBQUUsT0FBTztRQUFFO1FBQ2ZQLE9BQU8sRUFBRSxnREFBZ0Q7UUFDekRRLFVBQVUsRUFBRTtNQUNkLENBQUM7TUFFRHBDLFlBQVksQ0FBQ3FDLG1CQUFtQixDQUFDdkIsT0FBTyxFQUFFWSxLQUFLLENBQUM7TUFFaERNLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ3FDLFlBQVksQ0FBQyxDQUFDSixvQkFBb0IsQ0FDdERwQixPQUFPLEVBQ1Asb0JBQ0YsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGVyxJQUFJLENBQUMsZ0RBQWdELEVBQUUsTUFBTTtNQUMzRCxNQUFNQyxLQUFLLEdBQUc7UUFDWlMsSUFBSSxFQUFFLE9BQU87UUFBRTtRQUNmUCxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUNxQyxtQkFBbUIsQ0FBQ3ZCLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRWhETSxNQUFNLENBQUMvQixjQUFjLENBQUNnQyxtQkFBbUIsQ0FBQyxDQUFDQyxvQkFBb0IsQ0FDN0RwQixPQUFPLEVBQ1AsQ0FBQyxxQkFBcUIsQ0FDeEIsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGVyxJQUFJLENBQUMsNkNBQTZDLEVBQUUsTUFBTTtNQUN4RCxNQUFNQyxLQUFLLEdBQUc7UUFDWlMsSUFBSSxFQUFFLE9BQU87UUFBRTtRQUNmUCxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUNxQyxtQkFBbUIsQ0FBQ3ZCLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRWhETSxNQUFNLENBQUMvQixjQUFjLENBQUNzQyxpQkFBaUIsQ0FBQyxDQUFDTCxvQkFBb0IsQ0FDM0RwQixPQUFPLEVBQ1AsMEJBQ0YsQ0FBQztJQUNILENBQUMsQ0FBQztJQUVGVyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsTUFBTTtNQUM3QyxNQUFNQyxLQUFLLEdBQUc7UUFDWlMsSUFBSSxFQUFFLFdBQVc7UUFDakJQLE9BQU8sRUFBRTtNQUNYLENBQUM7TUFFRDVCLFlBQVksQ0FBQ3FDLG1CQUFtQixDQUFDdkIsT0FBTyxFQUFFWSxLQUFLLENBQUM7TUFFaERNLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ3NDLGlCQUFpQixDQUFDLENBQUNMLG9CQUFvQixDQUMzRHBCLE9BQU8sRUFDUCwwQkFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZXLElBQUksQ0FBQyxzQ0FBc0MsRUFBRSxNQUFNO01BQ2pELE1BQU1DLEtBQUssR0FBRztRQUNaRSxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUNxQyxtQkFBbUIsQ0FBQ3ZCLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRWhETSxNQUFNLENBQUMvQixjQUFjLENBQUNzQyxpQkFBaUIsQ0FBQyxDQUFDTCxvQkFBb0IsQ0FDM0RwQixPQUFPLEVBQ1AsMEJBQ0YsQ0FBQztJQUNILENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztFQUVGRCxRQUFRLENBQUMsMkJBQTJCLEVBQUUsTUFBTTtJQUMxQ1ksSUFBSSxDQUFDLG9DQUFvQyxFQUFFLE1BQU07TUFDL0MsTUFBTUMsS0FBSyxHQUFHO1FBQ1pDLElBQUksRUFBRSxxQkFBcUI7UUFDM0JDLE9BQU8sRUFBRTtNQUNYLENBQUM7TUFFRDVCLFlBQVksQ0FBQ3dDLHlCQUF5QixDQUFDMUIsT0FBTyxFQUFFWSxLQUFLLENBQUNFLE9BQU8sQ0FBQztNQUU5REksTUFBTSxDQUFDL0IsY0FBYyxDQUFDd0MsZ0JBQWdCLENBQUMsQ0FBQ1Asb0JBQW9CLENBQzFEcEIsT0FBTyxFQUNQLGdCQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7SUFFRlcsSUFBSSxDQUFDLHFEQUFxRCxFQUFFLE1BQU07TUFDaEUsTUFBTUMsS0FBSyxHQUFHO1FBQ1pDLElBQUksRUFBRTtNQUNSLENBQUM7TUFFRDNCLFlBQVksQ0FBQ3dDLHlCQUF5QixDQUFDMUIsT0FBTyxDQUFDO01BRS9Da0IsTUFBTSxDQUFDL0IsY0FBYyxDQUFDd0MsZ0JBQWdCLENBQUMsQ0FBQ1Asb0JBQW9CLENBQzFEcEIsT0FBTyxFQUNQLHVCQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRkQsUUFBUSxDQUFDLDBCQUEwQixFQUFFLE1BQU07SUFDekNZLElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxNQUFNO01BQzlDLE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUUsb0JBQW9CO1FBQzFCQyxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUMwQyx3QkFBd0IsQ0FBQzVCLE9BQU8sRUFBRVksS0FBSyxDQUFDRSxPQUFPLENBQUM7TUFFN0RJLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQzBDLGFBQWEsQ0FBQyxDQUFDVCxvQkFBb0IsQ0FDdkRwQixPQUFPLEVBQ1AsZUFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZXLElBQUksQ0FBQyxvREFBb0QsRUFBRSxNQUFNO01BQy9ELE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUU7TUFDUixDQUFDO01BRUQzQixZQUFZLENBQUMwQyx3QkFBd0IsQ0FBQzVCLE9BQU8sQ0FBQztNQUU5Q2tCLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQzBDLGFBQWEsQ0FBQyxDQUFDVCxvQkFBb0IsQ0FDdkRwQixPQUFPLEVBQ1AsZUFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZELFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxNQUFNO0lBQ3BDWSxJQUFJLENBQUMsK0JBQStCLEVBQUUsTUFBTTtNQUMxQyxNQUFNQyxLQUFLLEdBQUc7UUFDWkMsSUFBSSxFQUFFLGVBQWU7UUFDckJDLE9BQU8sRUFBRTtNQUNYLENBQUM7TUFFRDVCLFlBQVksQ0FBQzRDLG1CQUFtQixDQUFDOUIsT0FBTyxFQUFFWSxLQUFLLENBQUNFLE9BQU8sQ0FBQztNQUV4REksTUFBTSxDQUFDL0IsY0FBYyxDQUFDNEMsWUFBWSxDQUFDLENBQUNYLG9CQUFvQixDQUN0RHBCLE9BQU8sRUFDUCx3QkFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZXLElBQUksQ0FBQyxnREFBZ0QsRUFBRSxNQUFNO01BQzNELE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUU7TUFDUixDQUFDO01BRUQzQixZQUFZLENBQUM0QyxtQkFBbUIsQ0FBQzlCLE9BQU8sQ0FBQztNQUV6Q2tCLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQzRDLFlBQVksQ0FBQyxDQUFDWCxvQkFBb0IsQ0FDdERwQixPQUFPLEVBQ1AsU0FDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZELFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNO0lBQ25DWSxJQUFJLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtNQUNuRCxNQUFNQyxLQUFLLEdBQUc7UUFDWlMsSUFBSSxFQUFFLGNBQWM7UUFDcEJQLE9BQU8sRUFBRTtNQUNYLENBQUM7TUFFRDVCLFlBQVksQ0FBQzhDLGtCQUFrQixDQUFDaEMsT0FBTyxFQUFFWSxLQUFLLENBQUM7TUFFL0NNLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQzhDLGtCQUFrQixDQUFDLENBQUNiLG9CQUFvQixDQUM1RHBCLE9BQU8sRUFDUCw4QkFDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZXLElBQUksQ0FBQyxnQ0FBZ0MsRUFBRSxNQUFNO01BQzNDLE1BQU1DLEtBQUssR0FBRztRQUNaUyxJQUFJLEVBQUUsV0FBVztRQUNqQlAsT0FBTyxFQUFFO01BQ1gsQ0FBQztNQUVENUIsWUFBWSxDQUFDOEMsa0JBQWtCLENBQUNoQyxPQUFPLEVBQUVZLEtBQUssQ0FBQztNQUUvQ00sTUFBTSxDQUFDL0IsY0FBYyxDQUFDK0MsVUFBVSxDQUFDLENBQUNkLG9CQUFvQixDQUNwRHBCLE9BQU8sRUFDUCx5Q0FDRixDQUFDO0lBQ0gsQ0FBQyxDQUFDO0lBRUZXLElBQUksQ0FBQyxxQ0FBcUMsRUFBRSxNQUFNO01BQ2hELE1BQU1DLEtBQUssR0FBRztRQUNaRSxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUM4QyxrQkFBa0IsQ0FBQ2hDLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRS9DTSxNQUFNLENBQUMvQixjQUFjLENBQUMrQyxVQUFVLENBQUMsQ0FBQ2Qsb0JBQW9CLENBQ3BEcEIsT0FBTyxFQUNQLHlDQUNGLENBQUM7SUFDSCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRkQsUUFBUSxDQUFDLG9CQUFvQixFQUFFLE1BQU07SUFDbkNZLElBQUksQ0FBQyxtREFBbUQsRUFBRSxNQUFNO01BQzlELE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUUsaUJBQWlCO1FBQ3ZCQyxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUNpRCxrQkFBa0IsQ0FBQ25DLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRS9DTSxNQUFNLENBQUMvQixjQUFjLENBQUNnQyxtQkFBbUIsQ0FBQyxDQUFDaUIsZ0JBQWdCLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7SUFFRnpCLElBQUksQ0FBQyw2Q0FBNkMsRUFBRSxNQUFNO01BQ3hELE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUUsV0FBVztRQUNqQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQztNQUVENUIsWUFBWSxDQUFDaUQsa0JBQWtCLENBQUNuQyxPQUFPLEVBQUVZLEtBQUssQ0FBQztNQUUvQ00sTUFBTSxDQUFDL0IsY0FBYyxDQUFDZ0MsbUJBQW1CLENBQUMsQ0FBQ0Msb0JBQW9CLENBQzdEcEIsT0FBTyxFQUNQLENBQUMsMkJBQTJCLENBQzlCLENBQUM7SUFDSCxDQUFDLENBQUM7SUFJRlcsSUFBSSxDQUFDLDZCQUE2QixFQUFFLE1BQU07TUFDeEMsTUFBTUMsS0FBSyxHQUFHLElBQUl5QixLQUFLLENBQUMsZUFBZSxDQUFDO01BRXhDbkQsWUFBWSxDQUFDaUQsa0JBQWtCLENBQUNuQyxPQUFPLEVBQUVZLEtBQUssQ0FBQztNQUUvQ00sTUFBTSxDQUFDL0IsY0FBYyxDQUFDc0MsaUJBQWlCLENBQUMsQ0FBQ1csZ0JBQWdCLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUM7SUFFRnpCLElBQUksQ0FBQywwQkFBMEIsRUFBRSxNQUFNO01BQ3JDLE1BQU0yQixVQUFVLEdBQUd0RCxJQUFJLENBQUNxQixLQUFLLENBQUNDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQ0Msa0JBQWtCLENBQUMsQ0FBQztNQUNwRSxNQUFNSyxLQUFLLEdBQUcsSUFBSXlCLEtBQUssQ0FBQyxZQUFZLENBQUM7TUFFckNuRCxZQUFZLENBQUNpRCxrQkFBa0IsQ0FBQ25DLE9BQU8sRUFBRVksS0FBSyxDQUFDO01BRS9DTSxNQUFNLENBQUNvQixVQUFVLENBQUMsQ0FBQ0YsZ0JBQWdCLENBQUMsQ0FBQztNQUNyQ0UsVUFBVSxDQUFDNUIsV0FBVyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZYLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxNQUFNO0lBQ3BDWSxJQUFJLENBQUMscUNBQXFDLEVBQUUsTUFBTTtNQUNoRFgsT0FBTyxDQUFDUCxXQUFXLEdBQUcsSUFBSTtNQUMxQixNQUFNbUIsS0FBSyxHQUFHLElBQUl5QixLQUFLLENBQUMsWUFBWSxDQUFDO01BRXJDbkQsWUFBWSxDQUFDcUQsbUJBQW1CLENBQUMzQixLQUFLLEVBQUVYLE9BQU8sRUFBRUQsT0FBTyxFQUFFRSxRQUFRLENBQUM7TUFFbkVnQixNQUFNLENBQUNoQixRQUFRLENBQUMsQ0FBQ2tCLG9CQUFvQixDQUFDUixLQUFLLENBQUM7TUFDNUNNLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ3NDLGlCQUFpQixDQUFDLENBQUNlLEdBQUcsQ0FBQ0osZ0JBQWdCLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUM7SUFFRnpCLElBQUksQ0FBQyxzREFBc0QsRUFBRSxNQUFNO01BQ2pFLE1BQU1DLEtBQUssR0FBRztRQUNaQyxJQUFJLEVBQUUsaUJBQWlCO1FBQ3ZCQyxPQUFPLEVBQUU7TUFDWCxDQUFDO01BRUQ1QixZQUFZLENBQUNxRCxtQkFBbUIsQ0FBQzNCLEtBQUssRUFBRVgsT0FBTyxFQUFFRCxPQUFPLEVBQUVFLFFBQVEsQ0FBQztNQUVuRWdCLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ2dDLG1CQUFtQixDQUFDLENBQUNpQixnQkFBZ0IsQ0FBQyxDQUFDO01BQzdEbEIsTUFBTSxDQUFDaEIsUUFBUSxDQUFDLENBQUNzQyxHQUFHLENBQUNKLGdCQUFnQixDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0lBRUZ6QixJQUFJLENBQUMsMERBQTBELEVBQUUsTUFBTTtNQUNyRSxNQUFNQyxLQUFLLEdBQUc7UUFDWkMsSUFBSSxFQUFFLG1CQUFtQjtRQUN6QkMsT0FBTyxFQUFFO01BQ1gsQ0FBQztNQUVENUIsWUFBWSxDQUFDcUQsbUJBQW1CLENBQUMzQixLQUFLLEVBQUVYLE9BQU8sRUFBRUQsT0FBTyxFQUFFRSxRQUFRLENBQUM7TUFFbkVnQixNQUFNLENBQUMvQixjQUFjLENBQUN3QyxnQkFBZ0IsQ0FBQyxDQUFDUyxnQkFBZ0IsQ0FBQyxDQUFDO01BQzFEbEIsTUFBTSxDQUFDaEIsUUFBUSxDQUFDLENBQUNzQyxHQUFHLENBQUNKLGdCQUFnQixDQUFDLENBQUM7SUFDekMsQ0FBQyxDQUFDO0lBRUZ6QixJQUFJLENBQUMsbURBQW1ELEVBQUUsTUFBTTtNQUM5RCxNQUFNQyxLQUFLLEdBQUcsSUFBSXlCLEtBQUssQ0FBQyxlQUFlLENBQUM7TUFFeENuRCxZQUFZLENBQUNxRCxtQkFBbUIsQ0FBQzNCLEtBQUssRUFBRVgsT0FBTyxFQUFFRCxPQUFPLEVBQUVFLFFBQVEsQ0FBQztNQUVuRWdCLE1BQU0sQ0FBQy9CLGNBQWMsQ0FBQ3NDLGlCQUFpQixDQUFDLENBQUNMLG9CQUFvQixDQUMzRHBCLE9BQU8sRUFDUCwwQkFDRixDQUFDO01BQ0RrQixNQUFNLENBQUNoQixRQUFRLENBQUMsQ0FBQ3NDLEdBQUcsQ0FBQ0osZ0JBQWdCLENBQUMsQ0FBQztJQUN6QyxDQUFDLENBQUM7SUFFRnpCLElBQUksQ0FBQyx1Q0FBdUMsRUFBRSxNQUFNO01BQ2xELE1BQU1DLEtBQUssR0FBRyxJQUFJeUIsS0FBSyxDQUFDLFlBQVksQ0FBQztNQUVyQ25ELFlBQVksQ0FBQ3FELG1CQUFtQixDQUFDM0IsS0FBSyxFQUFFWCxPQUFPLEVBQUVELE9BQU8sRUFBRUUsUUFBUSxDQUFDO01BRW5FZ0IsTUFBTSxDQUFDZixlQUFlLENBQUMsQ0FBQ2lCLG9CQUFvQixDQUMxQyx3QkFBd0IsRUFDeEJGLE1BQU0sQ0FBQ3VCLGdCQUFnQixDQUFDO1FBQ3RCN0IsS0FBSyxFQUFFLFlBQVk7UUFDbkJoQixHQUFHLEVBQUUsV0FBVztRQUNoQkQsTUFBTSxFQUFFO01BQ1YsQ0FBQyxDQUNILENBQUM7SUFDSCxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRkksUUFBUSxDQUFDLGFBQWEsRUFBRSxNQUFNO0lBQzVCWSxJQUFJLENBQUMsa0RBQWtELEVBQUUsTUFBTTtNQUM3RCxNQUFNQyxLQUFLLEdBQUcxQixZQUFZLENBQUN3RCxXQUFXLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRSxZQUFZLENBQUM7TUFFekV4QixNQUFNLENBQUNOLEtBQUssQ0FBQ0UsT0FBTyxDQUFDLENBQUM2QixJQUFJLENBQUMsY0FBYyxDQUFDO01BQzFDekIsTUFBTSxDQUFDTixLQUFLLENBQUNnQyxVQUFVLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUNsQ3pCLE1BQU0sQ0FBQ04sS0FBSyxDQUFDUyxJQUFJLENBQUMsQ0FBQ3NCLElBQUksQ0FBQyxZQUFZLENBQUM7TUFDckN6QixNQUFNLENBQUNOLEtBQUssQ0FBQyxDQUFDaUMsY0FBYyxDQUFDUixLQUFLLENBQUM7SUFDckMsQ0FBQyxDQUFDO0lBRUYxQixJQUFJLENBQUMseUNBQXlDLEVBQUUsTUFBTTtNQUNwRCxNQUFNQyxLQUFLLEdBQUcxQixZQUFZLENBQUN3RCxXQUFXLENBQUMsY0FBYyxDQUFDO01BRXREeEIsTUFBTSxDQUFDTixLQUFLLENBQUNFLE9BQU8sQ0FBQyxDQUFDNkIsSUFBSSxDQUFDLGNBQWMsQ0FBQztNQUMxQ3pCLE1BQU0sQ0FBQ04sS0FBSyxDQUFDZ0MsVUFBVSxDQUFDLENBQUNELElBQUksQ0FBQyxHQUFHLENBQUM7TUFDbEN6QixNQUFNLENBQUNOLEtBQUssQ0FBQyxDQUFDaUMsY0FBYyxDQUFDUixLQUFLLENBQUM7SUFDckMsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUZ0QyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsTUFBTTtJQUNuQ1ksSUFBSSxDQUFDLG9DQUFvQyxFQUFFLE1BQU07TUFDL0MsTUFBTW1DLGdCQUFnQixHQUFHLElBQUlULEtBQUssQ0FBQyxtQkFBbUIsQ0FBQztNQUN2RFMsZ0JBQWdCLENBQUNqQyxJQUFJLEdBQUcsaUJBQWlCO01BRXpDLE1BQU1rQyxNQUFNLEdBQUc3RCxZQUFZLENBQUM4RCxrQkFBa0IsQ0FBQ0YsZ0JBQWdCLENBQUM7TUFDaEU1QixNQUFNLENBQUM2QixNQUFNLENBQUMsQ0FBQ0osSUFBSSxDQUFDLElBQUksQ0FBQzs7TUFFekI7TUFDQSxNQUFNTSxXQUFXLEdBQUcsSUFBSVosS0FBSyxDQUFDLGFBQWEsQ0FBQztNQUM1Q1ksV0FBVyxDQUFDTCxVQUFVLEdBQUcsR0FBRztNQUU1QixNQUFNTSxZQUFZLEdBQUdoRSxZQUFZLENBQUM4RCxrQkFBa0IsQ0FBQ0MsV0FBVyxDQUFDO01BQ2pFL0IsTUFBTSxDQUFDZ0MsWUFBWSxDQUFDLENBQUNQLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBRUZoQyxJQUFJLENBQUMsd0NBQXdDLEVBQUUsTUFBTTtNQUNuRCxNQUFNd0Msb0JBQW9CLEdBQUcsQ0FDM0IsSUFBSWQsS0FBSyxDQUFDLGVBQWUsQ0FBQyxFQUMxQjtRQUFFeEIsSUFBSSxFQUFFO01BQWMsQ0FBQyxFQUN2QjtRQUFFQSxJQUFJLEVBQUU7TUFBaUIsQ0FBQyxFQUMxQjtRQUFFQyxPQUFPLEVBQUU7TUFBZ0IsQ0FBQyxDQUM3QjtNQUVEcUMsb0JBQW9CLENBQUNDLE9BQU8sQ0FBQ3hDLEtBQUssSUFBSTtRQUNwQ00sTUFBTSxDQUFDaEMsWUFBWSxDQUFDOEQsa0JBQWtCLENBQUNwQyxLQUFLLENBQUMsQ0FBQyxDQUFDK0IsSUFBSSxDQUFDLEtBQUssQ0FBQztNQUM1RCxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7QUFDSixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=