9f91f8905568b1f5e1e0b109f0a5e4c9
"use strict";

// Mock do ResponseHelper
_getJestObj().mock('../../utils/responseHelper');

// Mock do objeto response do Express
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Testes unitários para ErrorHandler
 * Testa o tratamento centralizado de erros
 */

const {
  ErrorHandler
} = require('../../utils/errorHandler');
const {
  ResponseHelper
} = require('../../utils/responseHelper');
const createMockResponse = () => ({
  status: jest.fn().mockReturnThis(),
  json: jest.fn().mockReturnThis(),
  headersSent: false
});

// Mock do objeto request do Express
const createMockRequest = () => ({
  method: 'GET',
  url: '/api/test',
  ip: '127.0.0.1',
  headers: {
    'user-agent': 'test-agent'
  }
});
describe('ErrorHandler', () => {
  let mockRes;
  let mockReq;
  let mockNext;
  let consoleErrorSpy;
  beforeEach(() => {
    mockRes = createMockResponse();
    mockReq = createMockRequest();
    mockNext = jest.fn();

    // Mock console.error para evitar logs durante os testes
    consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(() => {});

    // Limpar mocks
    jest.clearAllMocks();
  });
  afterEach(() => {
    consoleErrorSpy.mockRestore();
  });
  describe('handleValidationError', () => {
    test('should handle validation error with details', () => {
      const error = {
        name: 'ValidationError',
        message: 'Dados inválidos',
        details: [{
          field: 'email',
          message: 'Email inválido'
        }, {
          field: 'phone',
          message: 'Telefone obrigatório'
        }]
      };
      ErrorHandler.handleValidationError(mockRes, error.details, error.message);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, error.details);
    });
    test('should handle validation error without details', () => {
      const error = {
        name: 'ValidationError',
        message: 'Erro de validação'
      };
      ErrorHandler.handleValidationError(mockRes, [], error.message);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, []);
    });
  });
  describe('handleDatabaseError', () => {
    test('should handle unique constraint violation', () => {
      const error = {
        name: 'SequelizeUniqueConstraintError',
        message: 'Duplicate entry'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendConflict).toHaveBeenCalledWith(mockRes, 'Registro já existe');
    });
    test('should handle foreign key constraint violation', () => {
      const error = {
        name: 'SequelizeForeignKeyConstraintError',
        message: 'Foreign key violation'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, ['Referência inválida']);
    });
    test('should handle not null constraint violation', () => {
      const error = {
        code: '23502',
        // PostgreSQL not null violation
        message: 'null value in column violates not-null constraint'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
    test('should handle connection timeout', () => {
      const error = {
        code: 'ETIMEDOUT',
        message: 'Connection timeout'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
    test('should handle generic database error', () => {
      const error = {
        message: 'Generic database error'
      };
      ErrorHandler.handleDatabaseError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
    });
  });
  describe('handleAuthenticationError', () => {
    test('should handle authentication error', () => {
      const error = {
        name: 'AuthenticationError',
        message: 'Token inválido'
      };
      ErrorHandler.handleAuthenticationError(mockRes, error.message);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalledWith(mockRes, 'Token inválido');
    });
    test('should use default message for authentication error', () => {
      const error = {
        name: 'AuthenticationError'
      };
      ErrorHandler.handleAuthenticationError(mockRes);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalledWith(mockRes, 'Credenciais inválidas');
    });
  });
  describe('handleAuthorizationError', () => {
    test('should handle authorization error', () => {
      const error = {
        name: 'AuthorizationError',
        message: 'Acesso negado'
      };
      ErrorHandler.handleAuthorizationError(mockRes, error.message);
      expect(ResponseHelper.sendForbidden).toHaveBeenCalledWith(mockRes, 'Acesso negado');
    });
    test('should use default message for authorization error', () => {
      const error = {
        name: 'AuthorizationError'
      };
      ErrorHandler.handleAuthorizationError(mockRes);
      expect(ResponseHelper.sendForbidden).toHaveBeenCalledWith(mockRes, 'Acesso negado');
    });
  });
  describe('handleNotFoundError', () => {
    test('should handle not found error', () => {
      const error = {
        name: 'NotFoundError',
        message: 'Cliente não encontrado'
      };
      ErrorHandler.handleNotFoundError(mockRes, error.message);
      expect(ResponseHelper.sendNotFound).toHaveBeenCalledWith(mockRes, 'Cliente não encontrado');
    });
    test('should use default message for not found error', () => {
      const error = {
        name: 'NotFoundError'
      };
      ErrorHandler.handleNotFoundError(mockRes);
      expect(ResponseHelper.sendNotFound).toHaveBeenCalledWith(mockRes, 'Recurso');
    });
  });
  describe('handleNetworkError', () => {
    test('should handle connection refused error', () => {
      const error = {
        code: 'ECONNREFUSED',
        message: 'Connection refused'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.serviceUnavailable).toHaveBeenCalledWith(mockRes, 'serviço externo indisponível');
    });
    test('should handle DNS lookup error', () => {
      const error = {
        code: 'ENOTFOUND',
        message: 'DNS lookup failed'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.serviceUnavailable).toHaveBeenCalledWith(mockRes, 'serviço externo indisponível');
    });
    test('should handle generic network error', () => {
      const error = {
        message: 'Network error'
      };
      ErrorHandler.handleNetworkError(mockRes, error);
      expect(ResponseHelper.badGateway).toHaveBeenCalledWith(mockRes, 'Erro de comunicação com serviço externo');
    });
  });
  describe('handleGenericError', () => {
    test('should handle validation error in generic handler', () => {
      const error = {
        name: 'ValidationError',
        message: 'Dados inválidos'
      };
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalled();
    });
    test('should handle cast error in generic handler', () => {
      const error = {
        name: 'CastError',
        message: 'Formato inválido'
      };
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalledWith(mockRes, ['Formato de dados inválido']);
    });
    test('should handle generic error', () => {
      const error = new Error('Erro genérico');
      ErrorHandler.handleGenericError(mockRes, error);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalled();
    });
    test('should log error details', () => {
      const consoleSpy = jest.spyOn(console, 'error').mockImplementation();
      const error = new Error('Test error');
      ErrorHandler.handleGenericError(mockRes, error);
      expect(consoleSpy).toHaveBeenCalled();
      consoleSpy.mockRestore();
    });
  });
  describe('expressErrorHandler', () => {
    test('should skip if headers already sent', () => {
      mockRes.headersSent = true;
      const error = new Error('Test error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(mockNext).toHaveBeenCalledWith(error);
      expect(ResponseHelper.sendInternalError).not.toHaveBeenCalled();
    });
    test('should handle validation error in Express middleware', () => {
      const error = {
        name: 'ValidationError',
        message: 'Validation failed'
      };
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendValidationError).toHaveBeenCalled();
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should handle authentication error in Express middleware', () => {
      const error = {
        name: 'JsonWebTokenError',
        message: 'Invalid token'
      };
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendUnauthorized).toHaveBeenCalled();
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should handle generic error in Express middleware', () => {
      const error = new Error('Generic error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(ResponseHelper.sendInternalError).toHaveBeenCalledWith(mockRes, 'Erro interno do servidor');
      expect(mockNext).not.toHaveBeenCalled();
    });
    test('should log request details with error', () => {
      const error = new Error('Test error');
      ErrorHandler.expressErrorHandler(error, mockReq, mockRes, mockNext);
      expect(consoleErrorSpy).toHaveBeenCalledWith('Express Error Handler:', expect.objectContaining({
        error: 'Test error',
        url: '/api/test',
        method: 'GET'
      }));
    });
  });
  describe('createError', () => {
    test('should create error with message and status code', () => {
      const error = ErrorHandler.createError('Test message', 400, 'TEST_ERROR');
      expect(error.message).toBe('Test message');
      expect(error.statusCode).toBe(400);
      expect(error.code).toBe('TEST_ERROR');
      expect(error).toBeInstanceOf(Error);
    });
    test('should create error with default values', () => {
      const error = ErrorHandler.createError('Test message');
      expect(error.message).toBe('Test message');
      expect(error.statusCode).toBe(500);
      expect(error).toBeInstanceOf(Error);
    });
  });
  describe('isOperationalError', () => {
    test('should identify operational errors', () => {
      const operationalError = new Error('Validation failed');
      operationalError.name = 'ValidationError';
      const result = ErrorHandler.isOperationalError(operationalError);
      expect(result).toBe(true);

      // Test with status code
      const statusError = new Error('Bad request');
      statusError.statusCode = 400;
      const statusResult = ErrorHandler.isOperationalError(statusError);
      expect(statusResult).toBe(true);
    });
    test('should identify non-operational errors', () => {
      const nonOperationalErrors = [new Error('Generic error'), {
        name: 'SyntaxError'
      }, {
        name: 'ReferenceError'
      }, {
        message: 'Unknown error'
      }];
      nonOperationalErrors.forEach(error => {
        expect(ErrorHandler.isOperationalError(error)).toBe(false);
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJqZXN0IiwicmVxdWlyZSIsIkVycm9ySGFuZGxlciIsIlJlc3BvbnNlSGVscGVyIiwiY3JlYXRlTW9ja1Jlc3BvbnNlIiwic3RhdHVzIiwiZm4iLCJtb2NrUmV0dXJuVGhpcyIsImpzb24iLCJoZWFkZXJzU2VudCIsImNyZWF0ZU1vY2tSZXF1ZXN0IiwibWV0aG9kIiwidXJsIiwiaXAiLCJoZWFkZXJzIiwiZGVzY3JpYmUiLCJtb2NrUmVzIiwibW9ja1JlcSIsIm1vY2tOZXh0IiwiY29uc29sZUVycm9yU3B5IiwiYmVmb3JlRWFjaCIsInNweU9uIiwiY29uc29sZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImNsZWFyQWxsTW9ja3MiLCJhZnRlckVhY2giLCJtb2NrUmVzdG9yZSIsInRlc3QiLCJlcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwiZGV0YWlscyIsImZpZWxkIiwiaGFuZGxlVmFsaWRhdGlvbkVycm9yIiwiZXhwZWN0Iiwic2VuZFZhbGlkYXRpb25FcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiaGFuZGxlRGF0YWJhc2VFcnJvciIsInNlbmRDb25mbGljdCIsImNvZGUiLCJzZW5kSW50ZXJuYWxFcnJvciIsImhhbmRsZUF1dGhlbnRpY2F0aW9uRXJyb3IiLCJzZW5kVW5hdXRob3JpemVkIiwiaGFuZGxlQXV0aG9yaXphdGlvbkVycm9yIiwic2VuZEZvcmJpZGRlbiIsImhhbmRsZU5vdEZvdW5kRXJyb3IiLCJzZW5kTm90Rm91bmQiLCJoYW5kbGVOZXR3b3JrRXJyb3IiLCJzZXJ2aWNlVW5hdmFpbGFibGUiLCJiYWRHYXRld2F5IiwiaGFuZGxlR2VuZXJpY0Vycm9yIiwidG9IYXZlQmVlbkNhbGxlZCIsIkVycm9yIiwiY29uc29sZVNweSIsImV4cHJlc3NFcnJvckhhbmRsZXIiLCJub3QiLCJvYmplY3RDb250YWluaW5nIiwiY3JlYXRlRXJyb3IiLCJ0b0JlIiwic3RhdHVzQ29kZSIsInRvQmVJbnN0YW5jZU9mIiwib3BlcmF0aW9uYWxFcnJvciIsInJlc3VsdCIsImlzT3BlcmF0aW9uYWxFcnJvciIsInN0YXR1c0Vycm9yIiwic3RhdHVzUmVzdWx0Iiwibm9uT3BlcmF0aW9uYWxFcnJvcnMiLCJmb3JFYWNoIl0sInNvdXJjZXMiOlsiZXJyb3JIYW5kbGVyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUZXN0ZXMgdW5pdMOhcmlvcyBwYXJhIEVycm9ySGFuZGxlclxuICogVGVzdGEgbyB0cmF0YW1lbnRvIGNlbnRyYWxpemFkbyBkZSBlcnJvc1xuICovXG5cbmNvbnN0IHsgRXJyb3JIYW5kbGVyIH0gPSByZXF1aXJlKCcuLi8uLi91dGlscy9lcnJvckhhbmRsZXInKTtcbmNvbnN0IHsgUmVzcG9uc2VIZWxwZXIgfSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL3Jlc3BvbnNlSGVscGVyJyk7XG5cbi8vIE1vY2sgZG8gUmVzcG9uc2VIZWxwZXJcbmplc3QubW9jaygnLi4vLi4vdXRpbHMvcmVzcG9uc2VIZWxwZXInKTtcblxuLy8gTW9jayBkbyBvYmpldG8gcmVzcG9uc2UgZG8gRXhwcmVzc1xuY29uc3QgY3JlYXRlTW9ja1Jlc3BvbnNlID0gKCkgPT4gKHtcbiAgc3RhdHVzOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAganNvbjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gIGhlYWRlcnNTZW50OiBmYWxzZVxufSk7XG5cbi8vIE1vY2sgZG8gb2JqZXRvIHJlcXVlc3QgZG8gRXhwcmVzc1xuY29uc3QgY3JlYXRlTW9ja1JlcXVlc3QgPSAoKSA9PiAoe1xuICBtZXRob2Q6ICdHRVQnLFxuICB1cmw6ICcvYXBpL3Rlc3QnLFxuICBpcDogJzEyNy4wLjAuMScsXG4gIGhlYWRlcnM6IHsgJ3VzZXItYWdlbnQnOiAndGVzdC1hZ2VudCcgfVxufSk7XG5cbmRlc2NyaWJlKCdFcnJvckhhbmRsZXInLCAoKSA9PiB7XG4gIGxldCBtb2NrUmVzO1xuICBsZXQgbW9ja1JlcTtcbiAgbGV0IG1vY2tOZXh0O1xuICBsZXQgY29uc29sZUVycm9yU3B5O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIG1vY2tSZXMgPSBjcmVhdGVNb2NrUmVzcG9uc2UoKTtcbiAgICBtb2NrUmVxID0gY3JlYXRlTW9ja1JlcXVlc3QoKTtcbiAgICBtb2NrTmV4dCA9IGplc3QuZm4oKTtcbiAgICBcbiAgICAvLyBNb2NrIGNvbnNvbGUuZXJyb3IgcGFyYSBldml0YXIgbG9ncyBkdXJhbnRlIG9zIHRlc3Rlc1xuICAgIGNvbnNvbGVFcnJvclNweSA9IGplc3Quc3B5T24oY29uc29sZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KTtcbiAgICBcbiAgICAvLyBMaW1wYXIgbW9ja3NcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBjb25zb2xlRXJyb3JTcHkubW9ja1Jlc3RvcmUoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZVZhbGlkYXRpb25FcnJvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gZXJyb3Igd2l0aCBkZXRhaWxzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdWYWxpZGF0aW9uRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnRGFkb3MgaW52w6FsaWRvcycsXG4gICAgICAgIGRldGFpbHM6IFtcbiAgICAgICAgICB7IGZpZWxkOiAnZW1haWwnLCBtZXNzYWdlOiAnRW1haWwgaW52w6FsaWRvJyB9LFxuICAgICAgICAgIHsgZmllbGQ6ICdwaG9uZScsIG1lc3NhZ2U6ICdUZWxlZm9uZSBvYnJpZ2F0w7NyaW8nIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZVZhbGlkYXRpb25FcnJvcihtb2NrUmVzLCBlcnJvci5kZXRhaWxzLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRWYWxpZGF0aW9uRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICBlcnJvci5kZXRhaWxzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGVycm9yIHdpdGhvdXQgZGV0YWlscycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnVmFsaWRhdGlvbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0Vycm8gZGUgdmFsaWRhw6fDo28nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlVmFsaWRhdGlvbkVycm9yKG1vY2tSZXMsIFtdLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRWYWxpZGF0aW9uRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICBbXVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZURhdGFiYXNlRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ1NlcXVlbGl6ZVVuaXF1ZUNvbnN0cmFpbnRFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdEdXBsaWNhdGUgZW50cnknXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlRGF0YWJhc2VFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kQ29uZmxpY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnUmVnaXN0cm8gasOhIGV4aXN0ZSdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGZvcmVpZ24ga2V5IGNvbnN0cmFpbnQgdmlvbGF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdTZXF1ZWxpemVGb3JlaWduS2V5Q29uc3RyYWludEVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ZvcmVpZ24ga2V5IHZpb2xhdGlvbidcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVEYXRhYmFzZUVycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRWYWxpZGF0aW9uRXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICBbJ1JlZmVyw6puY2lhIGludsOhbGlkYSddXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBub3QgbnVsbCBjb25zdHJhaW50IHZpb2xhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBjb2RlOiAnMjM1MDInLCAvLyBQb3N0Z3JlU1FMIG5vdCBudWxsIHZpb2xhdGlvblxuICAgICAgICBtZXNzYWdlOiAnbnVsbCB2YWx1ZSBpbiBjb2x1bW4gdmlvbGF0ZXMgbm90LW51bGwgY29uc3RyYWludCdcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVEYXRhYmFzZUVycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRJbnRlcm5hbEVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGNvbm5lY3Rpb24gdGltZW91dCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBjb2RlOiAnRVRJTUVET1VUJyxcbiAgICAgICAgbWVzc2FnZTogJ0Nvbm5lY3Rpb24gdGltZW91dCdcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVEYXRhYmFzZUVycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRJbnRlcm5hbEVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcidcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGdlbmVyaWMgZGF0YWJhc2UgZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbWVzc2FnZTogJ0dlbmVyaWMgZGF0YWJhc2UgZXJyb3InXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlRGF0YWJhc2VFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kSW50ZXJuYWxFcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaGFuZGxlQXV0aGVudGljYXRpb25FcnJvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGF1dGhlbnRpY2F0aW9uIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdBdXRoZW50aWNhdGlvbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ1Rva2VuIGludsOhbGlkbydcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVBdXRoZW50aWNhdGlvbkVycm9yKG1vY2tSZXMsIGVycm9yLm1lc3NhZ2UpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZFVuYXV0aG9yaXplZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdUb2tlbiBpbnbDoWxpZG8nXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHVzZSBkZWZhdWx0IG1lc3NhZ2UgZm9yIGF1dGhlbnRpY2F0aW9uIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdBdXRoZW50aWNhdGlvbkVycm9yJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUF1dGhlbnRpY2F0aW9uRXJyb3IobW9ja1Jlcyk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVW5hdXRob3JpemVkKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgJ0NyZWRlbmNpYWlzIGludsOhbGlkYXMnXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnaGFuZGxlQXV0aG9yaXphdGlvbkVycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgYXV0aG9yaXphdGlvbiBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnQXV0aG9yaXphdGlvbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0FjZXNzbyBuZWdhZG8nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlQXV0aG9yaXphdGlvbkVycm9yKG1vY2tSZXMsIGVycm9yLm1lc3NhZ2UpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZEZvcmJpZGRlbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdBY2Vzc28gbmVnYWRvJ1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1c2UgZGVmYXVsdCBtZXNzYWdlIGZvciBhdXRob3JpemF0aW9uIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdBdXRob3JpemF0aW9uRXJyb3InXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlQXV0aG9yaXphdGlvbkVycm9yKG1vY2tSZXMpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZEZvcmJpZGRlbikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdBY2Vzc28gbmVnYWRvJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZU5vdEZvdW5kRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBub3QgZm91bmQgZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ05vdEZvdW5kRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnQ2xpZW50ZSBuw6NvIGVuY29udHJhZG8nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlTm90Rm91bmRFcnJvcihtb2NrUmVzLCBlcnJvci5tZXNzYWdlKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmROb3RGb3VuZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdDbGllbnRlIG7Do28gZW5jb250cmFkbydcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgdXNlIGRlZmF1bHQgbWVzc2FnZSBmb3Igbm90IGZvdW5kIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdOb3RGb3VuZEVycm9yJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZU5vdEZvdW5kRXJyb3IobW9ja1Jlcyk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kTm90Rm91bmQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnUmVjdXJzbydcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdoYW5kbGVOZXR3b3JrRXJyb3InLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjb25uZWN0aW9uIHJlZnVzZWQgZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgY29kZTogJ0VDT05OUkVGVVNFRCcsXG4gICAgICAgIG1lc3NhZ2U6ICdDb25uZWN0aW9uIHJlZnVzZWQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlTmV0d29ya0Vycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlcnZpY2VVbmF2YWlsYWJsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdzZXJ2acOnbyBleHRlcm5vIGluZGlzcG9uw612ZWwnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBETlMgbG9va3VwIGVycm9yJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIGNvZGU6ICdFTk9URk9VTkQnLFxuICAgICAgICBtZXNzYWdlOiAnRE5TIGxvb2t1cCBmYWlsZWQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlTmV0d29ya0Vycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlcnZpY2VVbmF2YWlsYWJsZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdzZXJ2acOnbyBleHRlcm5vIGluZGlzcG9uw612ZWwnXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmljIG5ldHdvcmsgZXJyb3InLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbWVzc2FnZTogJ05ldHdvcmsgZXJyb3InXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlTmV0d29ya0Vycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLmJhZEdhdGV3YXkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBtb2NrUmVzLFxuICAgICAgICAnRXJybyBkZSBjb211bmljYcOnw6NvIGNvbSBzZXJ2acOnbyBleHRlcm5vJ1xuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2hhbmRsZUdlbmVyaWNFcnJvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gZXJyb3IgaW4gZ2VuZXJpYyBoYW5kbGVyJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdWYWxpZGF0aW9uRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnRGFkb3MgaW52w6FsaWRvcydcbiAgICAgIH07XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVHZW5lcmljRXJyb3IobW9ja1JlcywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZFZhbGlkYXRpb25FcnJvcikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBjYXN0IGVycm9yIGluIGdlbmVyaWMgaGFuZGxlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0ge1xuICAgICAgICBuYW1lOiAnQ2FzdEVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0Zvcm1hdG8gaW52w6FsaWRvJ1xuICAgICAgfTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmhhbmRsZUdlbmVyaWNFcnJvcihtb2NrUmVzLCBlcnJvcik7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kVmFsaWRhdGlvbkVycm9yKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgbW9ja1JlcyxcbiAgICAgICAgWydGb3JtYXRvIGRlIGRhZG9zIGludsOhbGlkbyddXG4gICAgICApO1xuICAgIH0pO1xuXG5cblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZ2VuZXJpYyBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdFcnJvIGdlbsOpcmljbycpO1xuXG4gICAgICBFcnJvckhhbmRsZXIuaGFuZGxlR2VuZXJpY0Vycm9yKG1vY2tSZXMsIGVycm9yKTtcblxuICAgICAgZXhwZWN0KFJlc3BvbnNlSGVscGVyLnNlbmRJbnRlcm5hbEVycm9yKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgbG9nIGVycm9yIGRldGFpbHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb25zb2xlU3B5ID0gamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKTtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdUZXN0IGVycm9yJyk7XG5cbiAgICAgIEVycm9ySGFuZGxlci5oYW5kbGVHZW5lcmljRXJyb3IobW9ja1JlcywgZXJyb3IpO1xuXG4gICAgICBleHBlY3QoY29uc29sZVNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgY29uc29sZVNweS5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZXhwcmVzc0Vycm9ySGFuZGxlcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgc2tpcCBpZiBoZWFkZXJzIGFscmVhZHkgc2VudCcsICgpID0+IHtcbiAgICAgIG1vY2tSZXMuaGVhZGVyc1NlbnQgPSB0cnVlO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKTtcblxuICAgICAgRXJyb3JIYW5kbGVyLmV4cHJlc3NFcnJvckhhbmRsZXIoZXJyb3IsIG1vY2tSZXEsIG1vY2tSZXMsIG1vY2tOZXh0KTtcblxuICAgICAgZXhwZWN0KG1vY2tOZXh0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChlcnJvcik7XG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZEludGVybmFsRXJyb3IpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIHZhbGlkYXRpb24gZXJyb3IgaW4gRXhwcmVzcyBtaWRkbGV3YXJlJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6ICdWYWxpZGF0aW9uRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnVmFsaWRhdGlvbiBmYWlsZWQnXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuZXhwcmVzc0Vycm9ySGFuZGxlcihlcnJvciwgbW9ja1JlcSwgbW9ja1JlcywgbW9ja05leHQpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZFZhbGlkYXRpb25FcnJvcikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tOZXh0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBhdXRoZW50aWNhdGlvbiBlcnJvciBpbiBFeHByZXNzIG1pZGRsZXdhcmUnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IHtcbiAgICAgICAgbmFtZTogJ0pzb25XZWJUb2tlbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgdG9rZW4nXG4gICAgICB9O1xuXG4gICAgICBFcnJvckhhbmRsZXIuZXhwcmVzc0Vycm9ySGFuZGxlcihlcnJvciwgbW9ja1JlcSwgbW9ja1JlcywgbW9ja05leHQpO1xuXG4gICAgICBleHBlY3QoUmVzcG9uc2VIZWxwZXIuc2VuZFVuYXV0aG9yaXplZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tOZXh0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBnZW5lcmljIGVycm9yIGluIEV4cHJlc3MgbWlkZGxld2FyZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdHZW5lcmljIGVycm9yJyk7XG5cbiAgICAgIEVycm9ySGFuZGxlci5leHByZXNzRXJyb3JIYW5kbGVyKGVycm9yLCBtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XG5cbiAgICAgIGV4cGVjdChSZXNwb25zZUhlbHBlci5zZW5kSW50ZXJuYWxFcnJvcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIG1vY2tSZXMsXG4gICAgICAgICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vY2tOZXh0KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGxvZyByZXF1ZXN0IGRldGFpbHMgd2l0aCBlcnJvcicsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdUZXN0IGVycm9yJyk7XG5cbiAgICAgIEVycm9ySGFuZGxlci5leHByZXNzRXJyb3JIYW5kbGVyKGVycm9yLCBtb2NrUmVxLCBtb2NrUmVzLCBtb2NrTmV4dCk7XG5cbiAgICAgIGV4cGVjdChjb25zb2xlRXJyb3JTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnRXhwcmVzcyBFcnJvciBIYW5kbGVyOicsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBlcnJvcjogJ1Rlc3QgZXJyb3InLFxuICAgICAgICAgIHVybDogJy9hcGkvdGVzdCcsXG4gICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyZWF0ZUVycm9yJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCBjcmVhdGUgZXJyb3Igd2l0aCBtZXNzYWdlIGFuZCBzdGF0dXMgY29kZScsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gRXJyb3JIYW5kbGVyLmNyZWF0ZUVycm9yKCdUZXN0IG1lc3NhZ2UnLCA0MDAsICdURVNUX0VSUk9SJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKCdUZXN0IG1lc3NhZ2UnKTtcbiAgICAgIGV4cGVjdChlcnJvci5zdGF0dXNDb2RlKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZXJyb3IuY29kZSkudG9CZSgnVEVTVF9FUlJPUicpO1xuICAgICAgZXhwZWN0KGVycm9yKS50b0JlSW5zdGFuY2VPZihFcnJvcik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgY3JlYXRlIGVycm9yIHdpdGggZGVmYXVsdCB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IEVycm9ySGFuZGxlci5jcmVhdGVFcnJvcignVGVzdCBtZXNzYWdlJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChlcnJvci5tZXNzYWdlKS50b0JlKCdUZXN0IG1lc3NhZ2UnKTtcbiAgICAgIGV4cGVjdChlcnJvci5zdGF0dXNDb2RlKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVJbnN0YW5jZU9mKEVycm9yKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2lzT3BlcmF0aW9uYWxFcnJvcicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgaWRlbnRpZnkgb3BlcmF0aW9uYWwgZXJyb3JzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3BlcmF0aW9uYWxFcnJvciA9IG5ldyBFcnJvcignVmFsaWRhdGlvbiBmYWlsZWQnKTtcbiAgICAgIG9wZXJhdGlvbmFsRXJyb3IubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBFcnJvckhhbmRsZXIuaXNPcGVyYXRpb25hbEVycm9yKG9wZXJhdGlvbmFsRXJyb3IpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCB3aXRoIHN0YXR1cyBjb2RlXG4gICAgICBjb25zdCBzdGF0dXNFcnJvciA9IG5ldyBFcnJvcignQmFkIHJlcXVlc3QnKTtcbiAgICAgIHN0YXR1c0Vycm9yLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXR1c1Jlc3VsdCA9IEVycm9ySGFuZGxlci5pc09wZXJhdGlvbmFsRXJyb3Ioc3RhdHVzRXJyb3IpO1xuICAgICAgZXhwZWN0KHN0YXR1c1Jlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBpZGVudGlmeSBub24tb3BlcmF0aW9uYWwgZXJyb3JzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgbm9uT3BlcmF0aW9uYWxFcnJvcnMgPSBbXG4gICAgICAgIG5ldyBFcnJvcignR2VuZXJpYyBlcnJvcicpLFxuICAgICAgICB7IG5hbWU6ICdTeW50YXhFcnJvcicgfSxcbiAgICAgICAgeyBuYW1lOiAnUmVmZXJlbmNlRXJyb3InIH0sXG4gICAgICAgIHsgbWVzc2FnZTogJ1Vua25vd24gZXJyb3InIH1cbiAgICAgIF07XG5cbiAgICAgIG5vbk9wZXJhdGlvbmFsRXJyb3JzLmZvckVhY2goZXJyb3IgPT4ge1xuICAgICAgICBleHBlY3QoRXJyb3JIYW5kbGVyLmlzT3BlcmF0aW9uYWxFcnJvcihlcnJvcikpLnRvQmUoZmFsc2UpO1xuICAgICAgfSk7XG4g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LEtBQUssQ0FBQ0UsT0FBTyxDQUFDLENBQUM0QixJQUFJLENBQUMsY0FBYyxDQUFDO01BQzFDeEIsTUFBTSxDQUFDTixLQUFLLENBQUMrQixVQUFVLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQztNQUNsQ3hCLE1BQU0sQ0FBQ04sS0FBSyxDQUFDLENBQUNnQyxjQUFjLENBQUNSLEtBQUssQ0FBQztJQUNyQyxDQUFDLENBQUM7RUFDSixDQUFDLENBQUM7RUFFRnJDLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRSxNQUFNO0lBQ25DWSxJQUFJLENBQUMsb0NBQW9DLEVBQUUsTUFBTTtNQUMvQyxNQUFNa0MsZ0JBQWdCLEdBQUcsSUFBSVQsS0FBSyxDQUFDLG1CQUFtQixDQUFDO01BQ3ZEUyxnQkFBZ0IsQ0FBQ2hDLElBQUksR0FBRyxpQkFBaUI7TUFFekMsTUFBTWlDLE1BQU0sR0FBRzVELFlBQVksQ0FBQzZELGtCQUFrQixDQUFDRixnQkFBZ0IsQ0FBQztNQUNoRTNCLE1BQU0sQ0FBQzRCLE1BQU0sQ0FBQyxDQUFDSixJQUFJLENBQUMsSUFBSSxDQUFDOztNQUV6QjtNQUNBLE1BQU1NLFdBQVcsR0FBRyxJQUFJWixLQUFLLENBQUMsYUFBYSxDQUFDO01BQzVDWSxXQUFXLENBQUNMLFVBQVUsR0FBRyxHQUFHO01BRTVCLE1BQU1NLFlBQVksR0FBRy9ELFlBQVksQ0FBQzZELGtCQUFrQixDQUFDQyxXQUFXLENBQUM7TUFDakU5QixNQUFNLENBQUMrQixZQUFZLENBQUMsQ0FBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNqQyxDQUFDLENBQUM7SUFFRi9CLElBQUksQ0FBQyx3Q0FBd0MsRUFBRSxNQUFNO01BQ25ELE1BQU11QyxvQkFBb0IsR0FBRyxDQUMzQixJQUFJZCxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQzFCO1FBQUV2QixJQUFJLEVBQUU7TUFBYyxDQUFDLEVBQ3ZCO1FBQUVBLElBQUksRUFBRTtNQUFpQixDQUFDLEVBQzFCO1FBQUVDLE9BQU8sRUFBRTtNQUFnQixDQUFDLENBQzdCO01BRURvQyxvQkFBb0IsQ0FBQ0MsT0FBTyxDQUFDdkMsS0FBSyxJQUFJO1FBQ3BDTSxNQUFNLENBQUNoQyxZQUFZLENBQUM2RCxrQkFBa0IsQ0FBQ25DLEtBQUssQ0FBQyxDQUFDLENBQUM4QixJQUFJLENBQUMsS0FBSyxDQUFDO01BQzVELENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==