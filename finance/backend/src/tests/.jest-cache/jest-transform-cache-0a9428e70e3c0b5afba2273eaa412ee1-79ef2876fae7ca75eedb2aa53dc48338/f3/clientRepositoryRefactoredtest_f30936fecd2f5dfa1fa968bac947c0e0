c36cf4982930e03ef06832b4ae652d95
"use strict";

// Mock das dependências
_getJestObj().mock('../../utils/databaseHelper');
_getJestObj().mock('../../utils/validationHelper');
_getJestObj().mock('../../utils/errorHandler');

// Mock do Supabase

_getJestObj().mock('../../config/supabaseAdmin', () => mockSupabase);
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
/**
 * Testes unitários para ClientRepositoryRefactored
 * Testa as operações de acesso a dados do repositório de clientes
 */

const ClientRepositoryRefactored = require('../../repositories/ClientRepositoryRefactored');
const DatabaseHelper = require('../../utils/databaseHelper');
const ValidationHelper = require('../../utils/validationHelper');
const ErrorHandler = require('../../utils/errorHandler');
const mockSupabase = {
  from: jest.fn(() => ({
    select: jest.fn().mockReturnThis(),
    insert: jest.fn().mockReturnThis(),
    update: jest.fn().mockReturnThis(),
    delete: jest.fn().mockReturnThis(),
    eq: jest.fn().mockReturnThis(),
    ilike: jest.fn().mockReturnThis(),
    or: jest.fn().mockReturnThis(),
    order: jest.fn().mockReturnThis(),
    range: jest.fn().mockReturnThis(),
    single: jest.fn(),
    count: jest.fn().mockReturnThis()
  }))
};
describe('ClientRepositoryRefactored', () => {
  let repository;
  let mockQuery;
  beforeEach(() => {
    repository = new ClientRepositoryRefactored();

    // Reset mocks
    jest.clearAllMocks();

    // Setup mock query chain
    mockQuery = {
      select: jest.fn().mockReturnThis(),
      insert: jest.fn().mockReturnThis(),
      update: jest.fn().mockReturnThis(),
      delete: jest.fn().mockReturnThis(),
      eq: jest.fn().mockReturnThis(),
      ilike: jest.fn().mockReturnThis(),
      or: jest.fn().mockReturnThis(),
      order: jest.fn().mockReturnThis(),
      range: jest.fn().mockReturnThis(),
      single: jest.fn(),
      count: jest.fn().mockReturnThis()
    };
    mockSupabase.from.mockReturnValue(mockQuery);

    // Setup default mocks
    DatabaseHelper.buildPaginationQuery.mockReturnValue(mockQuery);
    DatabaseHelper.buildSortingQuery.mockReturnValue(mockQuery);
    DatabaseHelper.buildFilterQuery.mockReturnValue(mockQuery);
    DatabaseHelper.calculatePagination.mockReturnValue({
      page: 1,
      limit: 10,
      total: 0,
      totalPages: 0,
      hasNext: false,
      hasPrev: false
    });
    ValidationHelper.isValidUUID.mockReturnValue(true);
    ValidationHelper.sanitizeString.mockImplementation(str => str?.trim() || '');
  });
  describe('findClientsWithPagination', () => {
    test('should return paginated clients successfully', async () => {
      const filters = {
        name: 'João',
        status: 'active'
      };
      const pagination = {
        page: 1,
        limit: 10
      };
      const sorting = {
        field: 'name',
        order: 'asc'
      };
      const mockClients = [{
        id: '1',
        name: 'João Silva',
        email: 'joao@email.com'
      }, {
        id: '2',
        name: 'João Santos',
        email: 'santos@email.com'
      }];
      const mockCountResult = {
        count: 2
      };

      // Mock para contagem
      const mockCountQuery = {
        ...mockQuery
      };
      mockCountQuery.single.mockResolvedValue({
        data: mockCountResult,
        error: null
      });
      mockSupabase.from.mockReturnValueOnce(mockCountQuery);

      // Mock para dados
      mockQuery.single.mockResolvedValue({
        data: mockClients,
        error: null
      });
      DatabaseHelper.calculatePagination.mockReturnValue({
        page: 1,
        limit: 10,
        total: 2,
        totalPages: 1,
        hasNext: false,
        hasPrev: false
      });
      const result = await repository.findClientsWithPagination(filters, pagination, sorting);
      expect(result).toEqual({
        data: mockClients,
        pagination: {
          page: 1,
          limit: 10,
          total: 2,
          totalPages: 1,
          hasNext: false,
          hasPrev: false
        }
      });
      expect(DatabaseHelper.buildFilterQuery).toHaveBeenCalledWith(expect.any(Object), filters);
      expect(DatabaseHelper.buildSortingQuery).toHaveBeenCalledWith(expect.any(Object), sorting);
      expect(DatabaseHelper.buildPaginationQuery).toHaveBeenCalledWith(expect.any(Object), pagination);
    });
    test('should handle database error', async () => {
      const error = {
        message: 'Database connection failed'
      };
      mockQuery.single.mockResolvedValue({
        data: null,
        error
      });
      await expect(repository.findClientsWithPagination({}, {}, {})).rejects.toThrow('Erro ao buscar clientes');
    });
    test('should use default parameters', async () => {
      mockQuery.single.mockResolvedValue({
        data: [],
        error: null
      });
      await repository.findClientsWithPagination();
      expect(DatabaseHelper.buildFilterQuery).toHaveBeenCalledWith(expect.any(Object), {});
      expect(DatabaseHelper.buildSortingQuery).toHaveBeenCalledWith(expect.any(Object), {
        field: 'created_at',
        order: 'desc'
      });
      expect(DatabaseHelper.buildPaginationQuery).toHaveBeenCalledWith(expect.any(Object), {
        page: 1,
        limit: 10
      });
    });
  });
  describe('findClientById', () => {
    test('should return client when found', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      const mockClient = {
        id: clientId,
        name: 'João Silva'
      };
      mockQuery.single.mockResolvedValue({
        data: mockClient,
        error: null
      });
      const result = await repository.findClientById(clientId);
      expect(result).toEqual(mockClient);
      expect(mockSupabase.from).toHaveBeenCalledWith('clients');
      expect(mockQuery.select).toHaveBeenCalledWith('*');
      expect(mockQuery.eq).toHaveBeenCalledWith('id', clientId);
    });
    test('should return null when client not found', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      mockQuery.single.mockResolvedValue({
        data: null,
        error: null
      });
      const result = await repository.findClientById(clientId);
      expect(result).toBeNull();
    });
    test('should throw error for invalid UUID', async () => {
      ValidationHelper.isValidUUID.mockReturnValue(false);
      await expect(repository.findClientById('invalid-id')).rejects.toThrow('ID do cliente deve ser um UUID válido');
    });
    test('should handle database error', async () => {
      const error = {
        message: 'Database error'
      };
      mockQuery.single.mockResolvedValue({
        data: null,
        error
      });
      await expect(repository.findClientById('123e4567-e89b-12d3-a456-426614174000')).rejects.toThrow('Erro ao buscar cliente por ID');
    });
  });
  describe('findClientByEmail', () => {
    test('should return client when found by email', async () => {
      const email = 'joao@email.com';
      const mockClient = {
        id: '1',
        email,
        name: 'João Silva'
      };
      mockQuery.single.mockResolvedValue({
        data: mockClient,
        error: null
      });
      const result = await repository.findClientByEmail(email);
      expect(result).toEqual(mockClient);
      expect(mockQuery.eq).toHaveBeenCalledWith('email', email.toLowerCase());
    });
    test('should return null when client not found', async () => {
      mockQuery.single.mockResolvedValue({
        data: null,
        error: null
      });
      const result = await repository.findClientByEmail('notfound@email.com');
      expect(result).toBeNull();
    });
    test('should handle case insensitive search', async () => {
      const email = 'JOAO@EMAIL.COM';
      mockQuery.single.mockResolvedValue({
        data: null,
        error: null
      });
      await repository.findClientByEmail(email);
      expect(mockQuery.eq).toHaveBeenCalledWith('email', 'joao@email.com');
    });
  });
  describe('findClientByTaxId', () => {
    test('should return client when found by tax_id', async () => {
      const taxId = '12345678901';
      const mockClient = {
        id: '1',
        tax_id: taxId,
        name: 'João Silva'
      };
      ValidationHelper.normalizeTaxId.mockReturnValue(taxId);
      mockQuery.single.mockResolvedValue({
        data: mockClient,
        error: null
      });
      const result = await repository.findClientByTaxId(taxId);
      expect(result).toEqual(mockClient);
      expect(ValidationHelper.normalizeTaxId).toHaveBeenCalledWith(taxId);
      expect(mockQuery.eq).toHaveBeenCalledWith('tax_id', taxId);
    });
    test('should return null when client not found', async () => {
      ValidationHelper.normalizeTaxId.mockReturnValue('12345678901');
      mockQuery.single.mockResolvedValue({
        data: null,
        error: null
      });
      const result = await repository.findClientByTaxId('12345678901');
      expect(result).toBeNull();
    });
  });
  describe('createClient', () => {
    test('should create client successfully', async () => {
      const clientData = {
        name: 'João Silva',
        email: 'joao@email.com',
        phone: '11999999999',
        tax_id: '12345678901',
        type: 'individual'
      };
      const mockCreatedClient = {
        id: '1',
        ...clientData,
        created_at: new Date()
      };
      ValidationHelper.sanitizeString.mockImplementation(str => str?.trim());
      mockQuery.single.mockResolvedValue({
        data: mockCreatedClient,
        error: null
      });
      const result = await repository.createClient(clientData);
      expect(result).toEqual(mockCreatedClient);
      expect(mockQuery.insert).toHaveBeenCalledWith(expect.objectContaining({
        name: 'João Silva',
        email: 'joao@email.com',
        phone: '11999999999',
        tax_id: '12345678901',
        type: 'individual'
      }));
    });
    test('should handle database error during creation', async () => {
      const error = {
        message: 'Unique constraint violation'
      };
      mockQuery.single.mockResolvedValue({
        data: null,
        error
      });
      await expect(repository.createClient({})).rejects.toThrow('Erro ao criar cliente');
    });
    test('should sanitize string fields', async () => {
      const clientData = {
        name: '  João Silva  ',
        email: '  joao@email.com  ',
        address: '  Rua das Flores, 123  '
      };
      ValidationHelper.sanitizeString.mockImplementation(str => str?.trim());
      mockQuery.single.mockResolvedValue({
        data: {
          id: '1'
        },
        error: null
      });
      await repository.createClient(clientData);
      expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  João Silva  ');
      expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  joao@email.com  ');
      expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  Rua das Flores, 123  ');
    });
  });
  describe('updateClient', () => {
    test('should update client successfully', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      const updateData = {
        name: 'João Santos',
        email: 'joao.santos@email.com'
      };
      const mockUpdatedClient = {
        id: clientId,
        ...updateData,
        updated_at: new Date()
      };
      ValidationHelper.sanitizeString.mockImplementation(str => str?.trim());
      mockQuery.single.mockResolvedValue({
        data: mockUpdatedClient,
        error: null
      });
      const result = await repository.updateClient(clientId, updateData);
      expect(result).toEqual(mockUpdatedClient);
      expect(mockQuery.update).toHaveBeenCalledWith(expect.objectContaining({
        name: 'João Santos',
        email: 'joao.santos@email.com',
        updated_at: expect.any(String)
      }));
      expect(mockQuery.eq).toHaveBeenCalledWith('id', clientId);
    });
    test('should throw error for invalid UUID', async () => {
      ValidationHelper.isValidUUID.mockReturnValue(false);
      await expect(repository.updateClient('invalid-id', {})).rejects.toThrow('ID do cliente deve ser um UUID válido');
    });
    test('should handle database error during update', async () => {
      const error = {
        message: 'Update failed'
      };
      mockQuery.single.mockResolvedValue({
        data: null,
        error
      });
      await expect(repository.updateClient('123e4567-e89b-12d3-a456-426614174000', {})).rejects.toThrow('Erro ao atualizar cliente');
    });
  });
  describe('deleteClient', () => {
    test('should delete client successfully', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      mockQuery.single.mockResolvedValue({
        data: {
          id: clientId
        },
        error: null
      });
      const result = await repository.deleteClient(clientId);
      expect(result).toBe(true);
      expect(mockQuery.delete).toHaveBeenCalled();
      expect(mockQuery.eq).toHaveBeenCalledWith('id', clientId);
    });
    test('should return false when client not found', async () => {
      mockQuery.single.mockResolvedValue({
        data: null,
        error: null
      });
      const result = await repository.deleteClient('123e4567-e89b-12d3-a456-426614174000');
      expect(result).toBe(false);
    });
    test('should throw error for invalid UUID', async () => {
      ValidationHelper.isValidUUID.mockReturnValue(false);
      await expect(repository.deleteClient('invalid-id')).rejects.toThrow('ID do cliente deve ser um UUID válido');
    });
  });
  describe('searchClients', () => {
    test('should search clients by term', async () => {
      const searchTerm = 'João';
      const mockResults = [{
        id: '1',
        name: 'João Silva',
        email: 'joao@email.com'
      }, {
        id: '2',
        name: 'João Santos',
        email: 'santos@email.com'
      }];
      ValidationHelper.sanitizeString.mockReturnValue('João');
      mockQuery.single.mockResolvedValue({
        data: mockResults,
        error: null
      });
      const result = await repository.searchClients(searchTerm);
      expect(result).toEqual(mockResults);
      expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith(searchTerm);
      expect(mockQuery.or).toHaveBeenCalledWith(`name.ilike.%João%,email.ilike.%João%,tax_id.ilike.%João%`);
    });
    test('should handle empty search results', async () => {
      ValidationHelper.sanitizeString.mockReturnValue('NotFound');
      mockQuery.single.mockResolvedValue({
        data: [],
        error: null
      });
      const result = await repository.searchClients('NotFound');
      expect(result).toEqual([]);
    });
  });
  describe('getClientContracts', () => {
    test('should return client contracts', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      const mockContracts = [{
        id: '1',
        client_id: clientId,
        amount: 1000
      }, {
        id: '2',
        client_id: clientId,
        amount: 2000
      }];
      mockQuery.single.mockResolvedValue({
        data: mockContracts,
        error: null
      });
      const result = await repository.getClientContracts(clientId);
      expect(result).toEqual(mockContracts);
      expect(mockSupabase.from).toHaveBeenCalledWith('contracts');
      expect(mockQuery.eq).toHaveBeenCalledWith('client_id', clientId);
    });
  });
  describe('getClientPayments', () => {
    test('should return client payments', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      const mockPayments = [{
        id: '1',
        client_id: clientId,
        amount: 500
      }, {
        id: '2',
        client_id: clientId,
        amount: 750
      }];
      mockQuery.single.mockResolvedValue({
        data: mockPayments,
        error: null
      });
      const result = await repository.getClientPayments(clientId);
      expect(result).toEqual(mockPayments);
      expect(mockSupabase.from).toHaveBeenCalledWith('payments');
      expect(mockQuery.eq).toHaveBeenCalledWith('client_id', clientId);
    });
  });
  describe('getClientStats', () => {
    test('should return client statistics', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      const mockStats = {
        totalContracts: 5,
        totalPayments: 10,
        totalAmount: 50000
      };

      // Mock para contratos
      const mockContractsQuery = {
        ...mockQuery
      };
      mockContractsQuery.single.mockResolvedValue({
        data: [{
          count: 5,
          total_amount: 30000
        }],
        error: null
      });

      // Mock para pagamentos
      const mockPaymentsQuery = {
        ...mockQuery
      };
      mockPaymentsQuery.single.mockResolvedValue({
        data: [{
          count: 10,
          total_amount: 20000
        }],
        error: null
      });
      mockSupabase.from.mockReturnValueOnce(mockContractsQuery).mockReturnValueOnce(mockPaymentsQuery);
      const result = await repository.getClientStats(clientId);
      expect(result).toEqual({
        totalContracts: 5,
        totalPayments: 10,
        totalContractAmount: 30000,
        totalPaymentAmount: 20000
      });
    });
  });
  describe('clientHasContracts', () => {
    test('should return true when client has contracts', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      mockQuery.single.mockResolvedValue({
        data: {
          count: 3
        },
        error: null
      });
      const result = await repository.clientHasContracts(clientId);
      expect(result).toBe(true);
      expect(mockSupabase.from).toHaveBeenCalledWith('contracts');
      expect(mockQuery.eq).toHaveBeenCalledWith('client_id', clientId);
    });
    test('should return false when client has no contracts', async () => {
      mockQuery.single.mockResolvedValue({
        data: {
          count: 0
        },
        error: null
      });
      const result = await repository.clientHasContracts('123e4567-e89b-12d3-a456-426614174000');
      expect(result).toBe(false);
    });
  });
  describe('clientHasPayments', () => {
    test('should return true when client has payments', async () => {
      const clientId = '123e4567-e89b-12d3-a456-426614174000';
      mockQuery.single.mockResolvedValue({
        data: {
          count: 5
        },
        error: null
      });
      const result = await repository.clientHasPayments(clientId);
      expect(result).toBe(true);
      expect(mockSupabase.from).toHaveBeenCalledWith('payments');
      expect(mockQuery.eq).toHaveBeenCalledWith('client_id', clientId);
    });
    test('should return false when client has no payments', async () => {
      mockQuery.single.mockResolvedValue({
        data: {
          count: 0
        },
        error: null
      });
      const result = await repository.clientHasPayments('123e4567-e89b-12d3-a456-426614174000');
      expect(result).toBe(false);
    });
  });
  describe('private methods', () => {
    describe('_sanitizeClientData', () => {
      test('should sanitize all string fields', () => {
        const clientData = {
          name: '  João Silva  ',
          email: '  joao@email.com  ',
          address: '  Rua das Flores  ',
          phone: '11999999999',
          type: 'individual'
        };
        ValidationHelper.sanitizeString.mockImplementation(str => str?.trim());
        const result = repository._sanitizeClientData(clientData);
        expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  João Silva  ');
        expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  joao@email.com  ');
        expect(ValidationHelper.sanitizeString).toHaveBeenCalledWith('  Rua das Flores  ');
        expect(result).toEqual({
          name: 'João Silva',
          email: 'joao@email.com',
          address: 'Rua das Flores',
          phone: '11999999999',
          type: 'individual'
        });
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJtb2NrU3VwYWJhc2UiLCJqZXN0IiwicmVxdWlyZSIsIkNsaWVudFJlcG9zaXRvcnlSZWZhY3RvcmVkIiwiRGF0YWJhc2VIZWxwZXIiLCJWYWxpZGF0aW9uSGVscGVyIiwiRXJyb3JIYW5kbGVyIiwiZnJvbSIsImZuIiwic2VsZWN0IiwibW9ja1JldHVyblRoaXMiLCJpbnNlcnQiLCJ1cGRhdGUiLCJkZWxldGUiLCJlcSIsImlsaWtlIiwib3IiLCJvcmRlciIsInJhbmdlIiwic2luZ2xlIiwiY291bnQiLCJkZXNjcmliZSIsInJlcG9zaXRvcnkiLCJtb2NrUXVlcnkiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImJ1aWxkUGFnaW5hdGlvblF1ZXJ5IiwiYnVpbGRTb3J0aW5nUXVlcnkiLCJidWlsZEZpbHRlclF1ZXJ5IiwiY2FsY3VsYXRlUGFnaW5hdGlvbiIsInBhZ2UiLCJsaW1pdCIsInRvdGFsIiwidG90YWxQYWdlcyIsImhhc05leHQiLCJoYXNQcmV2IiwiaXNWYWxpZFVVSUQiLCJzYW5pdGl6ZVN0cmluZyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInN0ciIsInRyaW0iLCJ0ZXN0IiwiZmlsdGVycyIsIm5hbWUiLCJzdGF0dXMiLCJwYWdpbmF0aW9uIiwic29ydGluZyIsImZpZWxkIiwibW9ja0NsaWVudHMiLCJpZCIsImVtYWlsIiwibW9ja0NvdW50UmVzdWx0IiwibW9ja0NvdW50UXVlcnkiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJlcnJvciIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJyZXN1bHQiLCJmaW5kQ2xpZW50c1dpdGhQYWdpbmF0aW9uIiwiZXhwZWN0IiwidG9FcXVhbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYW55IiwiT2JqZWN0IiwibWVzc2FnZSIsInJlamVjdHMiLCJ0b1Rocm93IiwiY2xpZW50SWQiLCJtb2NrQ2xpZW50IiwiZmluZENsaWVudEJ5SWQiLCJ0b0JlTnVsbCIsImZpbmRDbGllbnRCeUVtYWlsIiwidG9Mb3dlckNhc2UiLCJ0YXhJZCIsInRheF9pZCIsIm5vcm1hbGl6ZVRheElkIiwiZmluZENsaWVudEJ5VGF4SWQiLCJjbGllbnREYXRhIiwicGhvbmUiLCJ0eXBlIiwibW9ja0NyZWF0ZWRDbGllbnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsImNyZWF0ZUNsaWVudCIsIm9iamVjdENvbnRhaW5pbmciLCJhZGRyZXNzIiwidXBkYXRlRGF0YSIsIm1vY2tVcGRhdGVkQ2xpZW50IiwidXBkYXRlZF9hdCIsInVwZGF0ZUNsaWVudCIsIlN0cmluZyIsImRlbGV0ZUNsaWVudCIsInRvQmUiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwic2VhcmNoVGVybSIsIm1vY2tSZXN1bHRzIiwic2VhcmNoQ2xpZW50cyIsIm1vY2tDb250cmFjdHMiLCJjbGllbnRfaWQiLCJhbW91bnQiLCJnZXRDbGllbnRDb250cmFjdHMiLCJtb2NrUGF5bWVudHMiLCJnZXRDbGllbnRQYXltZW50cyIsIm1vY2tTdGF0cyIsInRvdGFsQ29udHJhY3RzIiwidG90YWxQYXltZW50cyIsInRvdGFsQW1vdW50IiwibW9ja0NvbnRyYWN0c1F1ZXJ5IiwidG90YWxfYW1vdW50IiwibW9ja1BheW1lbnRzUXVlcnkiLCJnZXRDbGllbnRTdGF0cyIsInRvdGFsQ29udHJhY3RBbW91bnQiLCJ0b3RhbFBheW1lbnRBbW91bnQiLCJjbGllbnRIYXNDb250cmFjdHMiLCJjbGllbnRIYXNQYXltZW50cyIsIl9zYW5pdGl6ZUNsaWVudERhdGEiXSwic291cmNlcyI6WyJjbGllbnRSZXBvc2l0b3J5UmVmYWN0b3JlZC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVzdGVzIHVuaXTDoXJpb3MgcGFyYSBDbGllbnRSZXBvc2l0b3J5UmVmYWN0b3JlZFxuICogVGVzdGEgYXMgb3BlcmHDp8O1ZXMgZGUgYWNlc3NvIGEgZGFkb3MgZG8gcmVwb3NpdMOzcmlvIGRlIGNsaWVudGVzXG4gKi9cblxuY29uc3QgQ2xpZW50UmVwb3NpdG9yeVJlZmFjdG9yZWQgPSByZXF1aXJlKCcuLi8uLi9yZXBvc2l0b3JpZXMvQ2xpZW50UmVwb3NpdG9yeVJlZmFjdG9yZWQnKTtcbmNvbnN0IERhdGFiYXNlSGVscGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZGF0YWJhc2VIZWxwZXInKTtcbmNvbnN0IFZhbGlkYXRpb25IZWxwZXIgPSByZXF1aXJlKCcuLi8uLi91dGlscy92YWxpZGF0aW9uSGVscGVyJyk7XG5jb25zdCBFcnJvckhhbmRsZXIgPSByZXF1aXJlKCcuLi8uLi91dGlscy9lcnJvckhhbmRsZXInKTtcblxuLy8gTW9jayBkYXMgZGVwZW5kw6puY2lhc1xuamVzdC5tb2NrKCcuLi8uLi91dGlscy9kYXRhYmFzZUhlbHBlcicpO1xuamVzdC5tb2NrKCcuLi8uLi91dGlscy92YWxpZGF0aW9uSGVscGVyJyk7XG5qZXN0Lm1vY2soJy4uLy4uL3V0aWxzL2Vycm9ySGFuZGxlcicpO1xuXG4vLyBNb2NrIGRvIFN1cGFiYXNlXG5jb25zdCBtb2NrU3VwYWJhc2UgPSB7XG4gIGZyb206IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzZWxlY3Q6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICBpbGlrZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgb3I6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgIG9yZGVyOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICByYW5nZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgc2luZ2xlOiBqZXN0LmZuKCksXG4gICAgY291bnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpXG4gIH0pKVxufTtcblxuamVzdC5tb2NrKCcuLi8uLi9jb25maWcvc3VwYWJhc2VBZG1pbicsICgpID0+IG1vY2tTdXBhYmFzZSk7XG5cbmRlc2NyaWJlKCdDbGllbnRSZXBvc2l0b3J5UmVmYWN0b3JlZCcsICgpID0+IHtcbiAgbGV0IHJlcG9zaXRvcnk7XG4gIGxldCBtb2NrUXVlcnk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgcmVwb3NpdG9yeSA9IG5ldyBDbGllbnRSZXBvc2l0b3J5UmVmYWN0b3JlZCgpO1xuICAgIFxuICAgIC8vIFJlc2V0IG1vY2tzXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgXG4gICAgLy8gU2V0dXAgbW9jayBxdWVyeSBjaGFpblxuICAgIG1vY2tRdWVyeSA9IHtcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBpbnNlcnQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgdXBkYXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGRlbGV0ZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBpbGlrZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBvcjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBvcmRlcjogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICByYW5nZTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICAgIGNvdW50OiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKVxuICAgIH07XG4gICAgXG4gICAgbW9ja1N1cGFiYXNlLmZyb20ubW9ja1JldHVyblZhbHVlKG1vY2tRdWVyeSk7XG4gICAgXG4gICAgLy8gU2V0dXAgZGVmYXVsdCBtb2Nrc1xuICAgIERhdGFiYXNlSGVscGVyLmJ1aWxkUGFnaW5hdGlvblF1ZXJ5Lm1vY2tSZXR1cm5WYWx1ZShtb2NrUXVlcnkpO1xuICAgIERhdGFiYXNlSGVscGVyLmJ1aWxkU29ydGluZ1F1ZXJ5Lm1vY2tSZXR1cm5WYWx1ZShtb2NrUXVlcnkpO1xuICAgIERhdGFiYXNlSGVscGVyLmJ1aWxkRmlsdGVyUXVlcnkubW9ja1JldHVyblZhbHVlKG1vY2tRdWVyeSk7XG4gICAgRGF0YWJhc2VIZWxwZXIuY2FsY3VsYXRlUGFnaW5hdGlvbi5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgcGFnZTogMSxcbiAgICAgIGxpbWl0OiAxMCxcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgdG90YWxQYWdlczogMCxcbiAgICAgIGhhc05leHQ6IGZhbHNlLFxuICAgICAgaGFzUHJldjogZmFsc2VcbiAgICB9KTtcbiAgICBcbiAgICBWYWxpZGF0aW9uSGVscGVyLmlzVmFsaWRVVUlELm1vY2tSZXR1cm5WYWx1ZSh0cnVlKTtcbiAgICBWYWxpZGF0aW9uSGVscGVyLnNhbml0aXplU3RyaW5nLm1vY2tJbXBsZW1lbnRhdGlvbihzdHIgPT4gc3RyPy50cmltKCkgfHwgJycpO1xuICB9KTtcblxuICBkZXNjcmliZSgnZmluZENsaWVudHNXaXRoUGFnaW5hdGlvbicsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIHBhZ2luYXRlZCBjbGllbnRzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZpbHRlcnMgPSB7IG5hbWU6ICdKb8OjbycsIHN0YXR1czogJ2FjdGl2ZScgfTtcbiAgICAgIGNvbnN0IHBhZ2luYXRpb24gPSB7IHBhZ2U6IDEsIGxpbWl0OiAxMCB9O1xuICAgICAgY29uc3Qgc29ydGluZyA9IHsgZmllbGQ6ICduYW1lJywgb3JkZXI6ICdhc2MnIH07XG4gICAgICBcbiAgICAgIGNvbnN0IG1vY2tDbGllbnRzID0gW1xuICAgICAgICB7IGlkOiAnMScsIG5hbWU6ICdKb8OjbyBTaWx2YScsIGVtYWlsOiAnam9hb0BlbWFpbC5jb20nIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgbmFtZTogJ0pvw6NvIFNhbnRvcycsIGVtYWlsOiAnc2FudG9zQGVtYWlsLmNvbScgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja0NvdW50UmVzdWx0ID0geyBjb3VudDogMiB9O1xuICAgICAgXG4gICAgICAvLyBNb2NrIHBhcmEgY29udGFnZW1cbiAgICAgIGNvbnN0IG1vY2tDb3VudFF1ZXJ5ID0geyAuLi5tb2NrUXVlcnkgfTtcbiAgICAgIG1vY2tDb3VudFF1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tDb3VudFJlc3VsdCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbS5tb2NrUmV0dXJuVmFsdWVPbmNlKG1vY2tDb3VudFF1ZXJ5KTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBwYXJhIGRhZG9zXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja0NsaWVudHMsIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBEYXRhYmFzZUhlbHBlci5jYWxjdWxhdGVQYWdpbmF0aW9uLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHBhZ2U6IDEsXG4gICAgICAgIGxpbWl0OiAxMCxcbiAgICAgICAgdG90YWw6IDIsXG4gICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgIGhhc05leHQ6IGZhbHNlLFxuICAgICAgICBoYXNQcmV2OiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudHNXaXRoUGFnaW5hdGlvbihmaWx0ZXJzLCBwYWdpbmF0aW9uLCBzb3J0aW5nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgIGRhdGE6IG1vY2tDbGllbnRzLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICBsaW1pdDogMTAsXG4gICAgICAgICAgdG90YWw6IDIsXG4gICAgICAgICAgdG90YWxQYWdlczogMSxcbiAgICAgICAgICBoYXNOZXh0OiBmYWxzZSxcbiAgICAgICAgICBoYXNQcmV2OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KERhdGFiYXNlSGVscGVyLmJ1aWxkRmlsdGVyUXVlcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoT2JqZWN0KSwgZmlsdGVycyk7XG4gICAgICBleHBlY3QoRGF0YWJhc2VIZWxwZXIuYnVpbGRTb3J0aW5nUXVlcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoT2JqZWN0KSwgc29ydGluZyk7XG4gICAgICBleHBlY3QoRGF0YWJhc2VIZWxwZXIuYnVpbGRQYWdpbmF0aW9uUXVlcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKGV4cGVjdC5hbnkoT2JqZWN0KSwgcGFnaW5hdGlvbik7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGVycm9yJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7IG1lc3NhZ2U6ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcgfTtcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBudWxsLCBlcnJvciB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG9zaXRvcnkuZmluZENsaWVudHNXaXRoUGFnaW5hdGlvbih7fSwge30sIHt9KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnRXJybyBhbyBidXNjYXIgY2xpZW50ZXMnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB1c2UgZGVmYXVsdCBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1F1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IFtdLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgcmVwb3NpdG9yeS5maW5kQ2xpZW50c1dpdGhQYWdpbmF0aW9uKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChEYXRhYmFzZUhlbHBlci5idWlsZEZpbHRlclF1ZXJ5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChleHBlY3QuYW55KE9iamVjdCksIHt9KTtcbiAgICAgIGV4cGVjdChEYXRhYmFzZUhlbHBlci5idWlsZFNvcnRpbmdRdWVyeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5hbnkoT2JqZWN0KSxcbiAgICAgICAgeyBmaWVsZDogJ2NyZWF0ZWRfYXQnLCBvcmRlcjogJ2Rlc2MnIH1cbiAgICAgICk7XG4gICAgICBleHBlY3QoRGF0YWJhc2VIZWxwZXIuYnVpbGRQYWdpbmF0aW9uUXVlcnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICAgIHsgcGFnZTogMSwgbGltaXQ6IDEwIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmaW5kQ2xpZW50QnlJZCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGNsaWVudCB3aGVuIGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50SWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IG1vY2tDbGllbnQgPSB7IGlkOiBjbGllbnRJZCwgbmFtZTogJ0pvw6NvIFNpbHZhJyB9O1xuICAgICAgXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja0NsaWVudCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudEJ5SWQoY2xpZW50SWQpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tDbGllbnQpO1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5mcm9tKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY2xpZW50cycpO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5zZWxlY3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcqJyk7XG4gICAgICBleHBlY3QobW9ja1F1ZXJ5LmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnaWQnLCBjbGllbnRJZCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIG51bGwgd2hlbiBjbGllbnQgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50SWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIFxuICAgICAgbW9ja1F1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRDbGllbnRCeUlkKGNsaWVudElkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgaW52YWxpZCBVVUlEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgVmFsaWRhdGlvbkhlbHBlci5pc1ZhbGlkVVVJRC5tb2NrUmV0dXJuVmFsdWUoZmFsc2UpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocmVwb3NpdG9yeS5maW5kQ2xpZW50QnlJZCgnaW52YWxpZC1pZCcpKVxuICAgICAgICAucmVqZWN0cy50b1Rocm93KCdJRCBkbyBjbGllbnRlIGRldmUgc2VyIHVtIFVVSUQgdsOhbGlkbycpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0geyBtZXNzYWdlOiAnRGF0YWJhc2UgZXJyb3InIH07XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbnVsbCwgZXJyb3IgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvc2l0b3J5LmZpbmRDbGllbnRCeUlkKCcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnRXJybyBhbyBidXNjYXIgY2xpZW50ZSBwb3IgSUQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRDbGllbnRCeUVtYWlsJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gY2xpZW50IHdoZW4gZm91bmQgYnkgZW1haWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbWFpbCA9ICdqb2FvQGVtYWlsLmNvbSc7XG4gICAgICBjb25zdCBtb2NrQ2xpZW50ID0geyBpZDogJzEnLCBlbWFpbCwgbmFtZTogJ0pvw6NvIFNpbHZhJyB9O1xuICAgICAgXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja0NsaWVudCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudEJ5RW1haWwoZW1haWwpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tDbGllbnQpO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2VtYWlsJywgZW1haWwudG9Mb3dlckNhc2UoKSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIG51bGwgd2hlbiBjbGllbnQgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1F1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG51bGwsIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmZpbmRDbGllbnRCeUVtYWlsKCdub3Rmb3VuZEBlbWFpbC5jb20nKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgY2FzZSBpbnNlbnNpdGl2ZSBzZWFyY2gnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbWFpbCA9ICdKT0FPQEVNQUlMLkNPTSc7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudEJ5RW1haWwoZW1haWwpO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja1F1ZXJ5LmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnZW1haWwnLCAnam9hb0BlbWFpbC5jb20nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRDbGllbnRCeVRheElkJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gY2xpZW50IHdoZW4gZm91bmQgYnkgdGF4X2lkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdGF4SWQgPSAnMTIzNDU2Nzg5MDEnO1xuICAgICAgY29uc3QgbW9ja0NsaWVudCA9IHsgaWQ6ICcxJywgdGF4X2lkOiB0YXhJZCwgbmFtZTogJ0pvw6NvIFNpbHZhJyB9O1xuICAgICAgXG4gICAgICBWYWxpZGF0aW9uSGVscGVyLm5vcm1hbGl6ZVRheElkLm1vY2tSZXR1cm5WYWx1ZSh0YXhJZCk7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja0NsaWVudCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudEJ5VGF4SWQodGF4SWQpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tDbGllbnQpO1xuICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIubm9ybWFsaXplVGF4SWQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHRheElkKTtcbiAgICAgIGV4cGVjdChtb2NrUXVlcnkuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0YXhfaWQnLCB0YXhJZCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIG51bGwgd2hlbiBjbGllbnQgbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xuICAgICAgVmFsaWRhdGlvbkhlbHBlci5ub3JtYWxpemVUYXhJZC5tb2NrUmV0dXJuVmFsdWUoJzEyMzQ1Njc4OTAxJyk7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbnVsbCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZmluZENsaWVudEJ5VGF4SWQoJzEyMzQ1Njc4OTAxJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjcmVhdGVDbGllbnQnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIGNyZWF0ZSBjbGllbnQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ0pvw6NvIFNpbHZhJyxcbiAgICAgICAgZW1haWw6ICdqb2FvQGVtYWlsLmNvbScsXG4gICAgICAgIHBob25lOiAnMTE5OTk5OTk5OTknLFxuICAgICAgICB0YXhfaWQ6ICcxMjM0NTY3ODkwMScsXG4gICAgICAgIHR5cGU6ICdpbmRpdmlkdWFsJ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc3QgbW9ja0NyZWF0ZWRDbGllbnQgPSB7IGlkOiAnMScsIC4uLmNsaWVudERhdGEsIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkgfTtcbiAgICAgIFxuICAgICAgVmFsaWRhdGlvbkhlbHBlci5zYW5pdGl6ZVN0cmluZy5tb2NrSW1wbGVtZW50YXRpb24oc3RyID0+IHN0cj8udHJpbSgpKTtcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrQ3JlYXRlZENsaWVudCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuY3JlYXRlQ2xpZW50KGNsaWVudERhdGEpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tDcmVhdGVkQ2xpZW50KTtcbiAgICAgIGV4cGVjdChtb2NrUXVlcnkuaW5zZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG5hbWU6ICdKb8OjbyBTaWx2YScsXG4gICAgICAgICAgZW1haWw6ICdqb2FvQGVtYWlsLmNvbScsXG4gICAgICAgICAgcGhvbmU6ICcxMTk5OTk5OTk5OScsXG4gICAgICAgICAgdGF4X2lkOiAnMTIzNDU2Nzg5MDEnLFxuICAgICAgICAgIHR5cGU6ICdpbmRpdmlkdWFsJ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3IgZHVyaW5nIGNyZWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSB7IG1lc3NhZ2U6ICdVbmlxdWUgY29uc3RyYWludCB2aW9sYXRpb24nIH07XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbnVsbCwgZXJyb3IgfSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvc2l0b3J5LmNyZWF0ZUNsaWVudCh7fSkpLnJlamVjdHMudG9UaHJvdygnRXJybyBhbyBjcmlhciBjbGllbnRlJyk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgc2FuaXRpemUgc3RyaW5nIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNsaWVudERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICcgIEpvw6NvIFNpbHZhICAnLFxuICAgICAgICBlbWFpbDogJyAgam9hb0BlbWFpbC5jb20gICcsXG4gICAgICAgIGFkZHJlc3M6ICcgIFJ1YSBkYXMgRmxvcmVzLCAxMjMgICdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcubW9ja0ltcGxlbWVudGF0aW9uKHN0ciA9PiBzdHI/LnRyaW0oKSk7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyBpZDogJzEnIH0sIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBhd2FpdCByZXBvc2l0b3J5LmNyZWF0ZUNsaWVudChjbGllbnREYXRhKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcgIEpvw6NvIFNpbHZhICAnKTtcbiAgICAgIGV4cGVjdChWYWxpZGF0aW9uSGVscGVyLnNhbml0aXplU3RyaW5nKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnICBqb2FvQGVtYWlsLmNvbSAgJyk7XG4gICAgICBleHBlY3QoVmFsaWRhdGlvbkhlbHBlci5zYW5pdGl6ZVN0cmluZykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJyAgUnVhIGRhcyBGbG9yZXMsIDEyMyAgJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd1cGRhdGVDbGllbnQnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHVwZGF0ZSBjbGllbnQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50SWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdKb8OjbyBTYW50b3MnLFxuICAgICAgICBlbWFpbDogJ2pvYW8uc2FudG9zQGVtYWlsLmNvbSdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IG1vY2tVcGRhdGVkQ2xpZW50ID0geyBpZDogY2xpZW50SWQsIC4uLnVwZGF0ZURhdGEsIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkgfTtcbiAgICAgIFxuICAgICAgVmFsaWRhdGlvbkhlbHBlci5zYW5pdGl6ZVN0cmluZy5tb2NrSW1wbGVtZW50YXRpb24oc3RyID0+IHN0cj8udHJpbSgpKTtcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrVXBkYXRlZENsaWVudCwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkudXBkYXRlQ2xpZW50KGNsaWVudElkLCB1cGRhdGVEYXRhKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrVXBkYXRlZENsaWVudCk7XG4gICAgICBleHBlY3QobW9ja1F1ZXJ5LnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBuYW1lOiAnSm/Do28gU2FudG9zJyxcbiAgICAgICAgICBlbWFpbDogJ2pvYW8uc2FudG9zQGVtYWlsLmNvbScsXG4gICAgICAgICAgdXBkYXRlZF9hdDogZXhwZWN0LmFueShTdHJpbmcpXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2lkJywgY2xpZW50SWQpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgnc2hvdWxkIHRocm93IGVycm9yIGZvciBpbnZhbGlkIFVVSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBWYWxpZGF0aW9uSGVscGVyLmlzVmFsaWRVVUlELm1vY2tSZXR1cm5WYWx1ZShmYWxzZSk7XG4gICAgICBcbiAgICAgIGF3YWl0IGV4cGVjdChyZXBvc2l0b3J5LnVwZGF0ZUNsaWVudCgnaW52YWxpZC1pZCcsIHt9KSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnSUQgZG8gY2xpZW50ZSBkZXZlIHNlciB1bSBVVUlEIHbDoWxpZG8nKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3IgZHVyaW5nIHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0geyBtZXNzYWdlOiAnVXBkYXRlIGZhaWxlZCcgfTtcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBudWxsLCBlcnJvciB9KTtcbiAgICAgIFxuICAgICAgYXdhaXQgZXhwZWN0KHJlcG9zaXRvcnkudXBkYXRlQ2xpZW50KCcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnLCB7fSkpXG4gICAgICAgIC5yZWplY3RzLnRvVGhyb3coJ0Vycm8gYW8gYXR1YWxpemFyIGNsaWVudGUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2RlbGV0ZUNsaWVudCcsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgZGVsZXRlIGNsaWVudCBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbGllbnRJZCA9ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnO1xuICAgICAgXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyBpZDogY2xpZW50SWQgfSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZGVsZXRlQ2xpZW50KGNsaWVudElkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrUXVlcnkuZGVsZXRlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICBleHBlY3QobW9ja1F1ZXJ5LmVxKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnaWQnLCBjbGllbnRJZCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gY2xpZW50IG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5kZWxldGVDbGllbnQoJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCB0aHJvdyBlcnJvciBmb3IgaW52YWxpZCBVVUlEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgVmFsaWRhdGlvbkhlbHBlci5pc1ZhbGlkVVVJRC5tb2NrUmV0dXJuVmFsdWUoZmFsc2UpO1xuICAgICAgXG4gICAgICBhd2FpdCBleHBlY3QocmVwb3NpdG9yeS5kZWxldGVDbGllbnQoJ2ludmFsaWQtaWQnKSlcbiAgICAgICAgLnJlamVjdHMudG9UaHJvdygnSUQgZG8gY2xpZW50ZSBkZXZlIHNlciB1bSBVVUlEIHbDoWxpZG8nKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3NlYXJjaENsaWVudHMnLCAoKSA9PiB7XG4gICAgdGVzdCgnc2hvdWxkIHNlYXJjaCBjbGllbnRzIGJ5IHRlcm0nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZWFyY2hUZXJtID0gJ0pvw6NvJztcbiAgICAgIGNvbnN0IG1vY2tSZXN1bHRzID0gW1xuICAgICAgICB7IGlkOiAnMScsIG5hbWU6ICdKb8OjbyBTaWx2YScsIGVtYWlsOiAnam9hb0BlbWFpbC5jb20nIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgbmFtZTogJ0pvw6NvIFNhbnRvcycsIGVtYWlsOiAnc2FudG9zQGVtYWlsLmNvbScgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgVmFsaWRhdGlvbkhlbHBlci5zYW5pdGl6ZVN0cmluZy5tb2NrUmV0dXJuVmFsdWUoJ0pvw6NvJyk7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja1Jlc3VsdHMsIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LnNlYXJjaENsaWVudHMoc2VhcmNoVGVybSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1Jlc3VsdHMpO1xuICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHNlYXJjaFRlcm0pO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5vcikudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGBuYW1lLmlsaWtlLiVKb8OjbyUsZW1haWwuaWxpa2UuJUpvw6NvJSx0YXhfaWQuaWxpa2UuJUpvw6NvJWBcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHNlYXJjaCByZXN1bHRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgVmFsaWRhdGlvbkhlbHBlci5zYW5pdGl6ZVN0cmluZy5tb2NrUmV0dXJuVmFsdWUoJ05vdEZvdW5kJyk7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogW10sIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LnNlYXJjaENsaWVudHMoJ05vdEZvdW5kJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0Q2xpZW50Q29udHJhY3RzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gY2xpZW50IGNvbnRyYWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNsaWVudElkID0gJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCc7XG4gICAgICBjb25zdCBtb2NrQ29udHJhY3RzID0gW1xuICAgICAgICB7IGlkOiAnMScsIGNsaWVudF9pZDogY2xpZW50SWQsIGFtb3VudDogMTAwMCB9LFxuICAgICAgICB7IGlkOiAnMicsIGNsaWVudF9pZDogY2xpZW50SWQsIGFtb3VudDogMjAwMCB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogbW9ja0NvbnRyYWN0cywgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0Q2xpZW50Q29udHJhY3RzKGNsaWVudElkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrQ29udHJhY3RzKTtcbiAgICAgIGV4cGVjdChtb2NrU3VwYWJhc2UuZnJvbSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NvbnRyYWN0cycpO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NsaWVudF9pZCcsIGNsaWVudElkKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldENsaWVudFBheW1lbnRzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gY2xpZW50IHBheW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50SWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IG1vY2tQYXltZW50cyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCBjbGllbnRfaWQ6IGNsaWVudElkLCBhbW91bnQ6IDUwMCB9LFxuICAgICAgICB7IGlkOiAnMicsIGNsaWVudF9pZDogY2xpZW50SWQsIGFtb3VudDogNzUwIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrUGF5bWVudHMsIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmdldENsaWVudFBheW1lbnRzKGNsaWVudElkKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUGF5bWVudHMpO1xuICAgICAgZXhwZWN0KG1vY2tTdXBhYmFzZS5mcm9tKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgncGF5bWVudHMnKTtcbiAgICAgIGV4cGVjdChtb2NrUXVlcnkuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjbGllbnRfaWQnLCBjbGllbnRJZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRDbGllbnRTdGF0cycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGNsaWVudCBzdGF0aXN0aWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50SWQgPSAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJztcbiAgICAgIGNvbnN0IG1vY2tTdGF0cyA9IHtcbiAgICAgICAgdG90YWxDb250cmFjdHM6IDUsXG4gICAgICAgIHRvdGFsUGF5bWVudHM6IDEwLFxuICAgICAgICB0b3RhbEFtb3VudDogNTAwMDBcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIE1vY2sgcGFyYSBjb250cmF0b3NcbiAgICAgIGNvbnN0IG1vY2tDb250cmFjdHNRdWVyeSA9IHsgLi4ubW9ja1F1ZXJ5IH07XG4gICAgICBtb2NrQ29udHJhY3RzUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgXG4gICAgICAgIGRhdGE6IFt7IGNvdW50OiA1LCB0b3RhbF9hbW91bnQ6IDMwMDAwIH1dLCBcbiAgICAgICAgZXJyb3I6IG51bGwgXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBwYXJhIHBhZ2FtZW50b3NcbiAgICAgIGNvbnN0IG1vY2tQYXltZW50c1F1ZXJ5ID0geyAuLi5tb2NrUXVlcnkgfTtcbiAgICAgIG1vY2tQYXltZW50c1F1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IFxuICAgICAgICBkYXRhOiBbeyBjb3VudDogMTAsIHRvdGFsX2Ftb3VudDogMjAwMDAgfV0sIFxuICAgICAgICBlcnJvcjogbnVsbCBcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBtb2NrU3VwYWJhc2UuZnJvbVxuICAgICAgICAubW9ja1JldHVyblZhbHVlT25jZShtb2NrQ29udHJhY3RzUXVlcnkpXG4gICAgICAgIC5tb2NrUmV0dXJuVmFsdWVPbmNlKG1vY2tQYXltZW50c1F1ZXJ5KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5nZXRDbGllbnRTdGF0cyhjbGllbnRJZCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICB0b3RhbENvbnRyYWN0czogNSxcbiAgICAgICAgdG90YWxQYXltZW50czogMTAsXG4gICAgICAgIHRvdGFsQ29udHJhY3RBbW91bnQ6IDMwMDAwLFxuICAgICAgICB0b3RhbFBheW1lbnRBbW91bnQ6IDIwMDAwXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NsaWVudEhhc0NvbnRyYWN0cycsICgpID0+IHtcbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIHRydWUgd2hlbiBjbGllbnQgaGFzIGNvbnRyYWN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNsaWVudElkID0gJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCc7XG4gICAgICBcbiAgICAgIG1vY2tRdWVyeS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiB7IGNvdW50OiAzIH0sIGVycm9yOiBudWxsIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXBvc2l0b3J5LmNsaWVudEhhc0NvbnRyYWN0cyhjbGllbnRJZCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLmZyb20pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjb250cmFjdHMnKTtcbiAgICAgIGV4cGVjdChtb2NrUXVlcnkuZXEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjbGllbnRfaWQnLCBjbGllbnRJZCk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCdzaG91bGQgcmV0dXJuIGZhbHNlIHdoZW4gY2xpZW50IGhhcyBubyBjb250cmFjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyBjb3VudDogMCB9LCBlcnJvcjogbnVsbCB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5jbGllbnRIYXNDb250cmFjdHMoJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NsaWVudEhhc1BheW1lbnRzJywgKCkgPT4ge1xuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gdHJ1ZSB3aGVuIGNsaWVudCBoYXMgcGF5bWVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjbGllbnRJZCA9ICcxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDAnO1xuICAgICAgXG4gICAgICBtb2NrUXVlcnkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHsgZGF0YTogeyBjb3VudDogNSB9LCBlcnJvcjogbnVsbCB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVwb3NpdG9yeS5jbGllbnRIYXNQYXltZW50cyhjbGllbnRJZCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1N1cGFiYXNlLmZyb20pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdwYXltZW50cycpO1xuICAgICAgZXhwZWN0KG1vY2tRdWVyeS5lcSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NsaWVudF9pZCcsIGNsaWVudElkKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ3Nob3VsZCByZXR1cm4gZmFsc2Ugd2hlbiBjbGllbnQgaGFzIG5vIHBheW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1F1ZXJ5LnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IHsgY291bnQ6IDAgfSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuY2xpZW50SGFzUGF5bWVudHMoJzEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCcpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ByaXZhdGUgbWV0aG9kcycsICgpID0+IHtcbiAgICBkZXNjcmliZSgnX3Nhbml0aXplQ2xpZW50RGF0YScsICgpID0+IHtcbiAgICAgIHRlc3QoJ3Nob3VsZCBzYW5pdGl6ZSBhbGwgc3RyaW5nIGZpZWxkcycsICgpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50RGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiAnICBKb8OjbyBTaWx2YSAgJyxcbiAgICAgICAgICBlbWFpbDogJyAgam9hb0BlbWFpbC5jb20gICcsXG4gICAgICAgICAgYWRkcmVzczogJyAgUnVhIGRhcyBGbG9yZXMgICcsXG4gICAgICAgICAgcGhvbmU6ICcxMTk5OTk5OTk5OScsXG4gICAgICAgICAgdHlwZTogJ2luZGl2aWR1YWwnXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBWYWxpZGF0aW9uSGVscGVyLnNhbml0aXplU3RyaW5nLm1vY2tJbXBsZW1lbnRhdGlvbihzdHIgPT4gc3RyPy50cmltKCkpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVwb3NpdG9yeS5fc2FuaXRpemVDbGllbnREYXRhKGNsaWVudERhdGEpO1xuICAgICAgICBcbiAgICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcgIEpvw6NvIFNpbHZhICAnKTtcbiAgICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcgIGpvYW9AZW1haWwuY29tICAnKTtcbiAgICAgICAgZXhwZWN0KFZhbGlkYXRpb25IZWxwZXIuc2FuaXRpemVTdHJpbmcpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcgIFJ1YSBkYXMgRmxvcmVzICAnKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICAgIG5hbWU6ICdKb8OjbyBTaWx2YScsXG4gICAgICAgICAgZW1haWw6ICdqb2FvQGVtYWlsLmNvbScsXG4gICAgICAgICAgYWRkcmVzczogJ1J1YSBkYXMgRmxvcmVzJyxcbiAgICAgICAgICBwaG9uZTogJzExOTk5OTk5OTk5JyxcbiAgICAgICAgICB0eXBlOiAnaW5kaXZpZHVhbCdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBVUE7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsNEJBQTRCLENBQUM7QUFDdkNELFdBQUEsR0FBS0MsSUFBSSxDQUFDLDhCQUE4QixDQUFDO0FBQ3pDRCxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsQ0FBQzs7QUFFckM7O0FBaUJBRCxXQUFBLEdBQUtDLElBQUksQ0FBQyw0QkFBNEIsRUFBRSxNQUFNQyxZQUFZLENBQUM7QUFBQyxTQUFBRixZQUFBO0VBQUE7SUFBQUc7RUFBQSxJQUFBQyxPQUFBO0VBQUFKLFdBQUEsR0FBQUEsQ0FBQSxLQUFBRyxJQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBaEM1RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNRSwwQkFBMEIsR0FBR0QsT0FBTyxDQUFDLCtDQUErQyxDQUFDO0FBQzNGLE1BQU1FLGNBQWMsR0FBR0YsT0FBTyxDQUFDLDRCQUE0QixDQUFDO0FBQzVELE1BQU1HLGdCQUFnQixHQUFHSCxPQUFPLENBQUMsOEJBQThCLENBQUM7QUFDaEUsTUFBTUksWUFBWSxHQUFHSixPQUFPLENBQUMsMEJBQTBCLENBQUM7QUFReEQsTUFBTUYsWUFBWSxHQUFHO0VBQ25CTyxJQUFJLEVBQUVOLElBQUksQ0FBQ08sRUFBRSxDQUFDLE9BQU87SUFDbkJDLE1BQU0sRUFBRVIsSUFBSSxDQUFDTyxFQUFFLENBQUMsQ0FBQyxDQUFDRSxjQUFjLENBQUMsQ0FBQztJQUNsQ0MsTUFBTSxFQUFFVixJQUFJLENBQUNPLEVBQUUsQ0FBQyxDQUFDLENBQUNFLGNBQWMsQ0FBQyxDQUFDO0lBQ2xDRSxNQUFNLEVBQUVYLElBQUksQ0FB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